/*! For license information please see usersite-3569608d25e5ed4c805e.js.LICENSE.txt */
!function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/packs/",n(n.s=343)}({0:function(e,t,n){"use strict";n.d(t,"a",(function(){return x})),n.d(t,"b",(function(){return B}));var r=function(){function e(e,t){this.eventTarget=e,this.eventName=t,this.unorderedBindings=new Set}return e.prototype.connect=function(){this.eventTarget.addEventListener(this.eventName,this,!1)},e.prototype.disconnect=function(){this.eventTarget.removeEventListener(this.eventName,this,!1)},e.prototype.bindingConnected=function(e){this.unorderedBindings.add(e)},e.prototype.bindingDisconnected=function(e){this.unorderedBindings.delete(e)},e.prototype.handleEvent=function(e){for(var t=function(e){if("immediatePropagationStopped"in e)return e;var t=e.stopImmediatePropagation;return Object.assign(e,{immediatePropagationStopped:!1,stopImmediatePropagation:function(){this.immediatePropagationStopped=!0,t.call(this)}})}(e),n=0,r=this.bindings;n<r.length;n++){var o=r[n];if(t.immediatePropagationStopped)break;o.handleEvent(t)}},Object.defineProperty(e.prototype,"bindings",{get:function(){return Array.from(this.unorderedBindings).sort((function(e,t){var n=e.index,r=t.index;return n<r?-1:n>r?1:0}))},enumerable:!0,configurable:!0}),e}();var o=function(){function e(e){this.application=e,this.eventListenerMaps=new Map,this.started=!1}return e.prototype.start=function(){this.started||(this.started=!0,this.eventListeners.forEach((function(e){return e.connect()})))},e.prototype.stop=function(){this.started&&(this.started=!1,this.eventListeners.forEach((function(e){return e.disconnect()})))},Object.defineProperty(e.prototype,"eventListeners",{get:function(){return Array.from(this.eventListenerMaps.values()).reduce((function(e,t){return e.concat(Array.from(t.values()))}),[])},enumerable:!0,configurable:!0}),e.prototype.bindingConnected=function(e){this.fetchEventListenerForBinding(e).bindingConnected(e)},e.prototype.bindingDisconnected=function(e){this.fetchEventListenerForBinding(e).bindingDisconnected(e)},e.prototype.handleError=function(e,t,n){void 0===n&&(n={}),this.application.handleError(e,"Error "+t,n)},e.prototype.fetchEventListenerForBinding=function(e){var t=e.eventTarget,n=e.eventName;return this.fetchEventListener(t,n)},e.prototype.fetchEventListener=function(e,t){var n=this.fetchEventListenerMapForEventTarget(e),r=n.get(t);return r||(r=this.createEventListener(e,t),n.set(t,r)),r},e.prototype.createEventListener=function(e,t){var n=new r(e,t);return this.started&&n.connect(),n},e.prototype.fetchEventListenerMapForEventTarget=function(e){var t=this.eventListenerMaps.get(e);return t||(t=new Map,this.eventListenerMaps.set(e,t)),t},e}(),i=/^((.+?)(@(window|document))?->)?(.+?)(#(.+))?$/;function a(e){return"window"==e?window:"document"==e?document:void 0}var s=function(){function e(e,t,n){this.element=e,this.index=t,this.eventTarget=n.eventTarget||e,this.eventName=n.eventName||function(e){var t=e.tagName.toLowerCase();if(t in u)return u[t](e)}(e)||c("missing event name"),this.identifier=n.identifier||c("missing identifier"),this.methodName=n.methodName||c("missing method name")}return e.forToken=function(e){return new this(e.element,e.index,(t=e.content,{eventTarget:a((n=t.trim().match(i)||[])[4]),eventName:n[2],identifier:n[5],methodName:n[7]}));var t,n},e.prototype.toString=function(){var e=this.eventTargetName?"@"+this.eventTargetName:"";return""+this.eventName+e+"->"+this.identifier+"#"+this.methodName},Object.defineProperty(e.prototype,"eventTargetName",{get:function(){return(e=this.eventTarget)==window?"window":e==document?"document":void 0;var e},enumerable:!0,configurable:!0}),e}(),u={a:function(e){return"click"},button:function(e){return"click"},form:function(e){return"submit"},input:function(e){return"submit"==e.getAttribute("type")?"click":"change"},select:function(e){return"change"},textarea:function(e){return"change"}};function c(e){throw new Error(e)}var l=function(){function e(e,t){this.context=e,this.action=t}return Object.defineProperty(e.prototype,"index",{get:function(){return this.action.index},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"eventTarget",{get:function(){return this.action.eventTarget},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"identifier",{get:function(){return this.context.identifier},enumerable:!0,configurable:!0}),e.prototype.handleEvent=function(e){this.willBeInvokedByEvent(e)&&this.invokeWithEvent(e)},Object.defineProperty(e.prototype,"eventName",{get:function(){return this.action.eventName},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"method",{get:function(){var e=this.controller[this.methodName];if("function"==typeof e)return e;throw new Error('Action "'+this.action+'" references undefined method "'+this.methodName+'"')},enumerable:!0,configurable:!0}),e.prototype.invokeWithEvent=function(e){try{this.method.call(this.controller,e)}catch(c){var t={identifier:this.identifier,controller:this.controller,element:this.element,index:this.index,event:e};this.context.handleError(c,'invoking action "'+this.action+'"',t)}},e.prototype.willBeInvokedByEvent=function(e){var t=e.target;return this.element===t||(!(t instanceof Element&&this.element.contains(t))||this.scope.containsElement(t))},Object.defineProperty(e.prototype,"controller",{get:function(){return this.context.controller},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"methodName",{get:function(){return this.action.methodName},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"element",{get:function(){return this.scope.element},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"scope",{get:function(){return this.context.scope},enumerable:!0,configurable:!0}),e}(),f=function(){function e(e,t){var n=this;this.element=e,this.started=!1,this.delegate=t,this.elements=new Set,this.mutationObserver=new MutationObserver((function(e){return n.processMutations(e)}))}return e.prototype.start=function(){this.started||(this.started=!0,this.mutationObserver.observe(this.element,{attributes:!0,childList:!0,subtree:!0}),this.refresh())},e.prototype.stop=function(){this.started&&(this.mutationObserver.takeRecords(),this.mutationObserver.disconnect(),this.started=!1)},e.prototype.refresh=function(){if(this.started){for(var e=new Set(this.matchElementsInTree()),t=0,n=Array.from(this.elements);t<n.length;t++){var r=n[t];e.has(r)||this.removeElement(r)}for(var o=0,i=Array.from(e);o<i.length;o++){r=i[o];this.addElement(r)}}},e.prototype.processMutations=function(e){if(this.started)for(var t=0,n=e;t<n.length;t++){var r=n[t];this.processMutation(r)}},e.prototype.processMutation=function(e){"attributes"==e.type?this.processAttributeChange(e.target,e.attributeName):"childList"==e.type&&(this.processRemovedNodes(e.removedNodes),this.processAddedNodes(e.addedNodes))},e.prototype.processAttributeChange=function(e,t){var n=e;this.elements.has(n)?this.delegate.elementAttributeChanged&&this.matchElement(n)?this.delegate.elementAttributeChanged(n,t):this.removeElement(n):this.matchElement(n)&&this.addElement(n)},e.prototype.processRemovedNodes=function(e){for(var t=0,n=Array.from(e);t<n.length;t++){var r=n[t],o=this.elementFromNode(r);o&&this.processTree(o,this.removeElement)}},e.prototype.processAddedNodes=function(e){for(var t=0,n=Array.from(e);t<n.length;t++){var r=n[t],o=this.elementFromNode(r);o&&this.elementIsActive(o)&&this.processTree(o,this.addElement)}},e.prototype.matchElement=function(e){return this.delegate.matchElement(e)},e.prototype.matchElementsInTree=function(e){return void 0===e&&(e=this.element),this.delegate.matchElementsInTree(e)},e.prototype.processTree=function(e,t){for(var n=0,r=this.matchElementsInTree(e);n<r.length;n++){var o=r[n];t.call(this,o)}},e.prototype.elementFromNode=function(e){if(e.nodeType==Node.ELEMENT_NODE)return e},e.prototype.elementIsActive=function(e){return e.isConnected==this.element.isConnected&&this.element.contains(e)},e.prototype.addElement=function(e){this.elements.has(e)||this.elementIsActive(e)&&(this.elements.add(e),this.delegate.elementMatched&&this.delegate.elementMatched(e))},e.prototype.removeElement=function(e){this.elements.has(e)&&(this.elements.delete(e),this.delegate.elementUnmatched&&this.delegate.elementUnmatched(e))},e}(),d=function(){function e(e,t,n){this.attributeName=t,this.delegate=n,this.elementObserver=new f(e,this)}return Object.defineProperty(e.prototype,"element",{get:function(){return this.elementObserver.element},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"selector",{get:function(){return"["+this.attributeName+"]"},enumerable:!0,configurable:!0}),e.prototype.start=function(){this.elementObserver.start()},e.prototype.stop=function(){this.elementObserver.stop()},e.prototype.refresh=function(){this.elementObserver.refresh()},Object.defineProperty(e.prototype,"started",{get:function(){return this.elementObserver.started},enumerable:!0,configurable:!0}),e.prototype.matchElement=function(e){return e.hasAttribute(this.attributeName)},e.prototype.matchElementsInTree=function(e){var t=this.matchElement(e)?[e]:[],n=Array.from(e.querySelectorAll(this.selector));return t.concat(n)},e.prototype.elementMatched=function(e){this.delegate.elementMatchedAttribute&&this.delegate.elementMatchedAttribute(e,this.attributeName)},e.prototype.elementUnmatched=function(e){this.delegate.elementUnmatchedAttribute&&this.delegate.elementUnmatchedAttribute(e,this.attributeName)},e.prototype.elementAttributeChanged=function(e,t){this.delegate.elementAttributeValueChanged&&this.attributeName==t&&this.delegate.elementAttributeValueChanged(e,t)},e}();function p(e,t,n){y(e,t).add(n)}function h(e,t,n){y(e,t).delete(n),function(e,t){var n=e.get(t);null!=n&&0==n.size&&e.delete(t)}(e,t)}function y(e,t){var n=e.get(t);return n||(n=new Set,e.set(t,n)),n}var m,g=function(){function e(){this.valuesByKey=new Map}return Object.defineProperty(e.prototype,"values",{get:function(){return Array.from(this.valuesByKey.values()).reduce((function(e,t){return e.concat(Array.from(t))}),[])},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return Array.from(this.valuesByKey.values()).reduce((function(e,t){return e+t.size}),0)},enumerable:!0,configurable:!0}),e.prototype.add=function(e,t){p(this.valuesByKey,e,t)},e.prototype.delete=function(e,t){h(this.valuesByKey,e,t)},e.prototype.has=function(e,t){var n=this.valuesByKey.get(e);return null!=n&&n.has(t)},e.prototype.hasKey=function(e){return this.valuesByKey.has(e)},e.prototype.hasValue=function(e){return Array.from(this.valuesByKey.values()).some((function(t){return t.has(e)}))},e.prototype.getValuesForKey=function(e){var t=this.valuesByKey.get(e);return t?Array.from(t):[]},e.prototype.getKeysForValue=function(e){return Array.from(this.valuesByKey).filter((function(t){t[0];return t[1].has(e)})).map((function(e){var t=e[0];e[1];return t}))},e}(),v=(m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}m(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),b=(function(e){function t(){var t=e.call(this)||this;return t.keysByValue=new Map,t}v(t,e),Object.defineProperty(t.prototype,"values",{get:function(){return Array.from(this.keysByValue.keys())},enumerable:!0,configurable:!0}),t.prototype.add=function(t,n){e.prototype.add.call(this,t,n),p(this.keysByValue,n,t)},t.prototype.delete=function(t,n){e.prototype.delete.call(this,t,n),h(this.keysByValue,n,t)},t.prototype.hasValue=function(e){return this.keysByValue.has(e)},t.prototype.getKeysForValue=function(e){var t=this.keysByValue.get(e);return t?Array.from(t):[]}}(g),function(){function e(e,t,n){this.attributeObserver=new d(e,t,this),this.delegate=n,this.tokensByElement=new g}return Object.defineProperty(e.prototype,"started",{get:function(){return this.attributeObserver.started},enumerable:!0,configurable:!0}),e.prototype.start=function(){this.attributeObserver.start()},e.prototype.stop=function(){this.attributeObserver.stop()},e.prototype.refresh=function(){this.attributeObserver.refresh()},Object.defineProperty(e.prototype,"element",{get:function(){return this.attributeObserver.element},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"attributeName",{get:function(){return this.attributeObserver.attributeName},enumerable:!0,configurable:!0}),e.prototype.elementMatchedAttribute=function(e){this.tokensMatched(this.readTokensForElement(e))},e.prototype.elementAttributeValueChanged=function(e){var t=this.refreshTokensForElement(e),n=t[0],r=t[1];this.tokensUnmatched(n),this.tokensMatched(r)},e.prototype.elementUnmatchedAttribute=function(e){this.tokensUnmatched(this.tokensByElement.getValuesForKey(e))},e.prototype.tokensMatched=function(e){var t=this;e.forEach((function(e){return t.tokenMatched(e)}))},e.prototype.tokensUnmatched=function(e){var t=this;e.forEach((function(e){return t.tokenUnmatched(e)}))},e.prototype.tokenMatched=function(e){this.delegate.tokenMatched(e),this.tokensByElement.add(e.element,e)},e.prototype.tokenUnmatched=function(e){this.delegate.tokenUnmatched(e),this.tokensByElement.delete(e.element,e)},e.prototype.refreshTokensForElement=function(e){var t,n,r,o=this.tokensByElement.getValuesForKey(e),i=this.readTokensForElement(e),a=(t=o,n=i,r=Math.max(t.length,n.length),Array.from({length:r},(function(e,r){return[t[r],n[r]]}))).findIndex((function(e){return!function(e,t){return e&&t&&e.index==t.index&&e.content==t.content}(e[0],e[1])}));return-1==a?[[],[]]:[o.slice(a),i.slice(a)]},e.prototype.readTokensForElement=function(e){var t=this.attributeName;return function(e,t,n){return e.trim().split(/\s+/).filter((function(e){return e.length})).map((function(e,r){return{element:t,attributeName:n,content:e,index:r}}))}(e.getAttribute(t)||"",e,t)},e}());var w=function(){function e(e,t,n){this.tokenListObserver=new b(e,t,this),this.delegate=n,this.parseResultsByToken=new WeakMap,this.valuesByTokenByElement=new WeakMap}return Object.defineProperty(e.prototype,"started",{get:function(){return this.tokenListObserver.started},enumerable:!0,configurable:!0}),e.prototype.start=function(){this.tokenListObserver.start()},e.prototype.stop=function(){this.tokenListObserver.stop()},e.prototype.refresh=function(){this.tokenListObserver.refresh()},Object.defineProperty(e.prototype,"element",{get:function(){return this.tokenListObserver.element},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"attributeName",{get:function(){return this.tokenListObserver.attributeName},enumerable:!0,configurable:!0}),e.prototype.tokenMatched=function(e){var t=e.element,n=this.fetchParseResultForToken(e).value;n&&(this.fetchValuesByTokenForElement(t).set(e,n),this.delegate.elementMatchedValue(t,n))},e.prototype.tokenUnmatched=function(e){var t=e.element,n=this.fetchParseResultForToken(e).value;n&&(this.fetchValuesByTokenForElement(t).delete(e),this.delegate.elementUnmatchedValue(t,n))},e.prototype.fetchParseResultForToken=function(e){var t=this.parseResultsByToken.get(e);return t||(t=this.parseToken(e),this.parseResultsByToken.set(e,t)),t},e.prototype.fetchValuesByTokenForElement=function(e){var t=this.valuesByTokenByElement.get(e);return t||(t=new Map,this.valuesByTokenByElement.set(e,t)),t},e.prototype.parseToken=function(e){try{return{value:this.delegate.parseValueForToken(e)}}catch(c){return{error:c}}},e}(),_=function(){function e(e,t){this.context=e,this.delegate=t,this.bindingsByAction=new Map}return e.prototype.start=function(){this.valueListObserver||(this.valueListObserver=new w(this.element,this.actionAttribute,this),this.valueListObserver.start())},e.prototype.stop=function(){this.valueListObserver&&(this.valueListObserver.stop(),delete this.valueListObserver,this.disconnectAllActions())},Object.defineProperty(e.prototype,"element",{get:function(){return this.context.element},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"identifier",{get:function(){return this.context.identifier},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"actionAttribute",{get:function(){return this.schema.actionAttribute},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return this.context.schema},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"bindings",{get:function(){return Array.from(this.bindingsByAction.values())},enumerable:!0,configurable:!0}),e.prototype.connectAction=function(e){var t=new l(this.context,e);this.bindingsByAction.set(e,t),this.delegate.bindingConnected(t)},e.prototype.disconnectAction=function(e){var t=this.bindingsByAction.get(e);t&&(this.bindingsByAction.delete(e),this.delegate.bindingDisconnected(t))},e.prototype.disconnectAllActions=function(){var e=this;this.bindings.forEach((function(t){return e.delegate.bindingDisconnected(t)})),this.bindingsByAction.clear()},e.prototype.parseValueForToken=function(e){var t=s.forToken(e);if(t.identifier==this.identifier)return t},e.prototype.elementMatchedValue=function(e,t){this.connectAction(t)},e.prototype.elementUnmatchedValue=function(e,t){this.disconnectAction(t)},e}(),O=function(){function e(e,t){this.module=e,this.scope=t,this.controller=new e.controllerConstructor(this),this.bindingObserver=new _(this,this.dispatcher);try{this.controller.initialize()}catch(c){this.handleError(c,"initializing controller")}}return e.prototype.connect=function(){this.bindingObserver.start();try{this.controller.connect()}catch(c){this.handleError(c,"connecting controller")}},e.prototype.disconnect=function(){try{this.controller.disconnect()}catch(c){this.handleError(c,"disconnecting controller")}this.bindingObserver.stop()},Object.defineProperty(e.prototype,"application",{get:function(){return this.module.application},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"identifier",{get:function(){return this.module.identifier},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return this.application.schema},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dispatcher",{get:function(){return this.application.dispatcher},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"element",{get:function(){return this.scope.element},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"parentElement",{get:function(){return this.element.parentElement},enumerable:!0,configurable:!0}),e.prototype.handleError=function(e,t,n){void 0===n&&(n={});var r=this.identifier,o=this.controller,i=this.element;n=Object.assign({identifier:r,controller:o,element:i},n),this.application.handleError(e,"Error "+t,n)},e}(),S=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();function E(e){var t=P(e);return t.bless(),t}var P=function(){function e(e){function t(){var n=this&&this instanceof t?this.constructor:void 0;return Reflect.construct(e,arguments,n)}return t.prototype=Object.create(e.prototype,{constructor:{value:t}}),Reflect.setPrototypeOf(t,e),t}try{return(t=e((function(){this.a.call(this)}))).prototype.a=function(){},new t,e}catch(c){return function(e){return function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return S(t,e),t}(e)}}var t}(),T=function(){function e(e,t){this.application=e,this.definition=function(e){return{identifier:e.identifier,controllerConstructor:E(e.controllerConstructor)}}(t),this.contextsByScope=new WeakMap,this.connectedContexts=new Set}return Object.defineProperty(e.prototype,"identifier",{get:function(){return this.definition.identifier},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"controllerConstructor",{get:function(){return this.definition.controllerConstructor},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"contexts",{get:function(){return Array.from(this.connectedContexts)},enumerable:!0,configurable:!0}),e.prototype.connectContextForScope=function(e){var t=this.fetchContextForScope(e);this.connectedContexts.add(t),t.connect()},e.prototype.disconnectContextForScope=function(e){var t=this.contextsByScope.get(e);t&&(this.connectedContexts.delete(t),t.disconnect())},e.prototype.fetchContextForScope=function(e){var t=this.contextsByScope.get(e);return t||(t=new O(this,e),this.contextsByScope.set(e,t)),t},e}(),M=function(){function e(e){this.scope=e}return Object.defineProperty(e.prototype,"element",{get:function(){return this.scope.element},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"identifier",{get:function(){return this.scope.identifier},enumerable:!0,configurable:!0}),e.prototype.get=function(e){return e=this.getFormattedKey(e),this.element.getAttribute(e)},e.prototype.set=function(e,t){return e=this.getFormattedKey(e),this.element.setAttribute(e,t),this.get(e)},e.prototype.has=function(e){return e=this.getFormattedKey(e),this.element.hasAttribute(e)},e.prototype.delete=function(e){return!!this.has(e)&&(e=this.getFormattedKey(e),this.element.removeAttribute(e),!0)},e.prototype.getFormattedKey=function(e){return"data-"+this.identifier+"-"+e.replace(/([A-Z])/g,(function(e,t){return"-"+t.toLowerCase()}))},e}();function L(e,t){return"["+e+'~="'+t+'"]'}var A=function(){function e(e){this.scope=e}return Object.defineProperty(e.prototype,"element",{get:function(){return this.scope.element},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"identifier",{get:function(){return this.scope.identifier},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return this.scope.schema},enumerable:!0,configurable:!0}),e.prototype.has=function(e){return null!=this.find(e)},e.prototype.find=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=this.getSelectorForTargetNames(e);return this.scope.findElement(n)},e.prototype.findAll=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=this.getSelectorForTargetNames(e);return this.scope.findAllElements(n)},e.prototype.getSelectorForTargetNames=function(e){var t=this;return e.map((function(e){return t.getSelectorForTargetName(e)})).join(", ")},e.prototype.getSelectorForTargetName=function(e){var t=this.identifier+"."+e;return L(this.schema.targetAttribute,t)},e}(),k=function(){function e(e,t,n){this.schema=e,this.identifier=t,this.element=n,this.targets=new A(this),this.data=new M(this)}return e.prototype.findElement=function(e){return this.findAllElements(e)[0]},e.prototype.findAllElements=function(e){var t=this.element.matches(e)?[this.element]:[],n=this.filterElements(Array.from(this.element.querySelectorAll(e)));return t.concat(n)},e.prototype.filterElements=function(e){var t=this;return e.filter((function(e){return t.containsElement(e)}))},e.prototype.containsElement=function(e){return e.closest(this.controllerSelector)===this.element},Object.defineProperty(e.prototype,"controllerSelector",{get:function(){return L(this.schema.controllerAttribute,this.identifier)},enumerable:!0,configurable:!0}),e}(),D=function(){function e(e,t,n){this.element=e,this.schema=t,this.delegate=n,this.valueListObserver=new w(this.element,this.controllerAttribute,this),this.scopesByIdentifierByElement=new WeakMap,this.scopeReferenceCounts=new WeakMap}return e.prototype.start=function(){this.valueListObserver.start()},e.prototype.stop=function(){this.valueListObserver.stop()},Object.defineProperty(e.prototype,"controllerAttribute",{get:function(){return this.schema.controllerAttribute},enumerable:!0,configurable:!0}),e.prototype.parseValueForToken=function(e){var t=e.element,n=e.content,r=this.fetchScopesByIdentifierForElement(t),o=r.get(n);return o||(o=new k(this.schema,n,t),r.set(n,o)),o},e.prototype.elementMatchedValue=function(e,t){var n=(this.scopeReferenceCounts.get(t)||0)+1;this.scopeReferenceCounts.set(t,n),1==n&&this.delegate.scopeConnected(t)},e.prototype.elementUnmatchedValue=function(e,t){var n=this.scopeReferenceCounts.get(t);n&&(this.scopeReferenceCounts.set(t,n-1),1==n&&this.delegate.scopeDisconnected(t))},e.prototype.fetchScopesByIdentifierForElement=function(e){var t=this.scopesByIdentifierByElement.get(e);return t||(t=new Map,this.scopesByIdentifierByElement.set(e,t)),t},e}(),j=function(){function e(e){this.application=e,this.scopeObserver=new D(this.element,this.schema,this),this.scopesByIdentifier=new g,this.modulesByIdentifier=new Map}return Object.defineProperty(e.prototype,"element",{get:function(){return this.application.element},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return this.application.schema},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"controllerAttribute",{get:function(){return this.schema.controllerAttribute},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"modules",{get:function(){return Array.from(this.modulesByIdentifier.values())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"contexts",{get:function(){return this.modules.reduce((function(e,t){return e.concat(t.contexts)}),[])},enumerable:!0,configurable:!0}),e.prototype.start=function(){this.scopeObserver.start()},e.prototype.stop=function(){this.scopeObserver.stop()},e.prototype.loadDefinition=function(e){this.unloadIdentifier(e.identifier);var t=new T(this.application,e);this.connectModule(t)},e.prototype.unloadIdentifier=function(e){var t=this.modulesByIdentifier.get(e);t&&this.disconnectModule(t)},e.prototype.getContextForElementAndIdentifier=function(e,t){var n=this.modulesByIdentifier.get(t);if(n)return n.contexts.find((function(t){return t.element==e}))},e.prototype.handleError=function(e,t,n){this.application.handleError(e,t,n)},e.prototype.scopeConnected=function(e){this.scopesByIdentifier.add(e.identifier,e);var t=this.modulesByIdentifier.get(e.identifier);t&&t.connectContextForScope(e)},e.prototype.scopeDisconnected=function(e){this.scopesByIdentifier.delete(e.identifier,e);var t=this.modulesByIdentifier.get(e.identifier);t&&t.disconnectContextForScope(e)},e.prototype.connectModule=function(e){this.modulesByIdentifier.set(e.identifier,e),this.scopesByIdentifier.getValuesForKey(e.identifier).forEach((function(t){return e.connectContextForScope(t)}))},e.prototype.disconnectModule=function(e){this.modulesByIdentifier.delete(e.identifier),this.scopesByIdentifier.getValuesForKey(e.identifier).forEach((function(t){return e.disconnectContextForScope(t)}))},e}(),R={controllerAttribute:"data-controller",actionAttribute:"data-action",targetAttribute:"data-target"},C=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(t){i(t)}}function s(e){try{u(r.throw(e))}catch(t){i(t)}}function u(e){e.done?o(e.value):new n((function(t){t(e.value)})).then(a,s)}u((r=r.apply(e,t||[])).next())}))},I=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=r[2&i[0]?"return":i[0]?"throw":"next"])&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[0,o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(s){i=[6,s],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},x=function(){function e(e,t){void 0===e&&(e=document.documentElement),void 0===t&&(t=R),this.element=e,this.schema=t,this.dispatcher=new o(this),this.router=new j(this)}return e.start=function(t,n){var r=new e(t,n);return r.start(),r},e.prototype.start=function(){return C(this,void 0,void 0,(function(){return I(this,(function(e){switch(e.label){case 0:return[4,new Promise((function(e){"loading"==document.readyState?document.addEventListener("DOMContentLoaded",e):e()}))];case 1:return e.sent(),this.router.start(),this.dispatcher.start(),[2]}}))}))},e.prototype.stop=function(){this.router.stop(),this.dispatcher.stop()},e.prototype.register=function(e,t){this.load({identifier:e,controllerConstructor:t})},e.prototype.load=function(e){for(var t=this,n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var o=Array.isArray(e)?e:[e].concat(n);o.forEach((function(e){return t.router.loadDefinition(e)}))},e.prototype.unload=function(e){for(var t=this,n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var o=Array.isArray(e)?e:[e].concat(n);o.forEach((function(e){return t.router.unloadIdentifier(e)}))},Object.defineProperty(e.prototype,"controllers",{get:function(){return this.router.contexts.map((function(e){return e.controller}))},enumerable:!0,configurable:!0}),e.prototype.getControllerForElementAndIdentifier=function(e,t){var n=this.router.getContextForElementAndIdentifier(e,t);return n?n.controller:null},e.prototype.handleError=function(e,t,n){console.error("%s\n\n%o\n\n%o",t,e,n)},e}();function F(e){var t=e.prototype;(function(e){var t=function(e){var t=[];for(;e;)t.push(e),e=Object.getPrototypeOf(e);return t}(e);return Array.from(t.reduce((function(e,t){return function(e){var t=e.targets;return Array.isArray(t)?t:[]}(t).forEach((function(t){return e.add(t)})),e}),new Set))})(e).forEach((function(e){var n,r,o;return r=t,(n={})[e+"Target"]={get:function(){var t=this.targets.find(e);if(t)return t;throw new Error('Missing target element "'+this.identifier+"."+e+'"')}},n[e+"Targets"]={get:function(){return this.targets.findAll(e)}},n["has"+function(e){return e.charAt(0).toUpperCase()+e.slice(1)}(e)+"Target"]={get:function(){return this.targets.has(e)}},o=n,void Object.keys(o).forEach((function(e){if(!(e in r)){var t=o[e];Object.defineProperty(r,e,t)}}))}))}var B=function(){function e(e){this.context=e}return e.bless=function(){F(this)},Object.defineProperty(e.prototype,"application",{get:function(){return this.context.application},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"scope",{get:function(){return this.context.scope},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"element",{get:function(){return this.scope.element},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"identifier",{get:function(){return this.scope.identifier},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"targets",{get:function(){return this.scope.targets},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"data",{get:function(){return this.scope.data},enumerable:!0,configurable:!0}),e.prototype.initialize=function(){},e.prototype.connect=function(){},e.prototype.disconnect=function(){},e.targets=[],e}()},10:function(e,t,n){"use strict";function r(e){return(r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(){if(!(this instanceof o))return new o;this.size=0,this.uid=0,this.selectors=[],this.selectorObjects={},this.indexes=Object.create(this.indexes),this.activeIndexes=[]}n.d(t,"a",(function(){return L})),n.d(t,"b",(function(){return M}));var i=window.document.documentElement,a=i.matches||i.webkitMatchesSelector||i.mozMatchesSelector||i.oMatchesSelector||i.msMatchesSelector;o.prototype.matchesSelector=function(e,t){return a.call(e,t)},o.prototype.querySelectorAll=function(e,t){return t.querySelectorAll(e)},o.prototype.indexes=[];var s=/^#((?:[\w\u00c0-\uFFFF\-]|\\.)+)/g;o.prototype.indexes.push({name:"ID",selector:function(e){var t;if(t=e.match(s))return t[0].slice(1)},element:function(e){if(e.id)return[e.id]}});var u=/^\.((?:[\w\u00c0-\uFFFF\-]|\\.)+)/g;o.prototype.indexes.push({name:"CLASS",selector:function(e){var t;if(t=e.match(u))return t[0].slice(1)},element:function(e){var t=e.className;if(t){if("string"===typeof t)return t.split(/\s/);if("object"===r(t)&&"baseVal"in t)return t.baseVal.split(/\s/)}}});var c,l=/^((?:[\w\u00c0-\uFFFF\-]|\\.)+)/g;o.prototype.indexes.push({name:"TAG",selector:function(e){var t;if(t=e.match(l))return t[0].toUpperCase()},element:function(e){return[e.nodeName.toUpperCase()]}}),o.prototype.indexes.default={name:"UNIVERSAL",selector:function(){return!0},element:function(){return[!0]}},c="function"===typeof window.Map?window.Map:function(){function e(){this.map={}}return e.prototype.get=function(e){return this.map[e+" "]},e.prototype.set=function(e,t){this.map[e+" "]=t},e}();var f=/((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^\[\]]*\]|['"][^'"]*['"]|[^\[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?((?:.|\r|\n)*)/g;function d(e,t){var n,r,o,i,a,s,u=(e=e.slice(0).concat(e.default)).length,c=t,l=[];do{if(f.exec(""),(o=f.exec(c))&&(c=o[3],o[2]||!c))for(n=0;n<u;n++)if(a=(s=e[n]).selector(o[1])){for(r=l.length,i=!1;r--;)if(l[r].index===s&&l[r].key===a){i=!0;break}i||l.push({index:s,key:a});break}}while(o);return l}function p(e,t){var n,r,o;for(n=0,r=e.length;n<r;n++)if(o=e[n],t.isPrototypeOf(o))return o}function h(e,t){return e.id-t.id}o.prototype.logDefaultIndexUsed=function(){},o.prototype.add=function(e,t){var n,r,o,i,a,s,u,l,f=this.activeIndexes,h=this.selectors,y=this.selectorObjects;if("string"===typeof e){for(y[(n={id:this.uid++,selector:e,data:t}).id]=n,u=d(this.indexes,e),r=0;r<u.length;r++)i=(l=u[r]).key,(a=p(f,o=l.index))||((a=Object.create(o)).map=new c,f.push(a)),o===this.indexes.default&&this.logDefaultIndexUsed(n),(s=a.map.get(i))||(s=[],a.map.set(i,s)),s.push(n);this.size++,h.push(e)}},o.prototype.remove=function(e,t){if("string"===typeof e){var n,r,o,i,a,s,u,c,l=this.activeIndexes,f=this.selectors=[],p=this.selectorObjects,h={},y=1===arguments.length;for(n=d(this.indexes,e),o=0;o<n.length;o++)for(r=n[o],i=l.length;i--;)if(s=l[i],r.index.isPrototypeOf(s)){if(u=s.map.get(r.key))for(a=u.length;a--;)(c=u[a]).selector!==e||!y&&c.data!==t||(u.splice(a,1),h[c.id]=!0);break}for(o in h)delete p[o],this.size--;for(o in p)f.push(p[o].selector)}},o.prototype.queryAll=function(e){if(!this.selectors.length)return[];var t,n,r,o,i,a,s,u,c={},l=[],f=this.querySelectorAll(this.selectors.join(", "),e);for(t=0,r=f.length;t<r;t++)for(i=f[t],n=0,o=(a=this.matches(i)).length;n<o;n++)c[(u=a[n]).id]?s=c[u.id]:(s={id:u.id,selector:u.selector,data:u.data,elements:[]},c[u.id]=s,l.push(s)),s.elements.push(i);return l.sort(h)},o.prototype.matches=function(e){if(!e)return[];var t,n,r,o,i,a,s,u,c,l,f,d=this.activeIndexes,p={},y=[];for(t=0,o=d.length;t<o;t++)if(u=(s=d[t]).element(e))for(n=0,i=u.length;n<i;n++)if(c=s.map.get(u[n]))for(r=0,a=c.length;r<a;r++)!p[f=(l=c[r]).id]&&this.matchesSelector(e,l.selector)&&(p[f]=!0,y.push(l));return y.sort(h)};var y={},m={},g=new WeakMap,v=new WeakMap,b=new WeakMap,w=Object.getOwnPropertyDescriptor(Event.prototype,"currentTarget");function _(e,t,n){var r=e[t];return e[t]=function(){return n.apply(e,arguments),r.apply(e,arguments)},e}function O(){g.set(this,!0)}function S(){g.set(this,!0),v.set(this,!0)}function E(){return b.get(this)||null}function P(e,t){w&&Object.defineProperty(e,"currentTarget",{configurable:!0,enumerable:!0,get:t||w.get})}function T(e){if(function(e){try{return e.eventPhase,!0}catch(t){return!1}}(e)){var t=(1===e.eventPhase?m:y)[e.type];if(t){var n=function(e,t,n){var r=[],o=t;do{if(1!==o.nodeType)break;var i=e.matches(o);if(i.length){var a={node:o,observers:i};n?r.unshift(a):r.push(a)}}while(o=o.parentElement);return r}(t,e.target,1===e.eventPhase);if(n.length){_(e,"stopPropagation",O),_(e,"stopImmediatePropagation",S),P(e,E);for(var r=0,o=n.length;r<o&&!g.get(e);r++){var i=n[r];b.set(e,i.node);for(var a=0,s=i.observers.length;a<s&&!v.get(e);a++)i.observers[a].data.call(i.node,e)}b.delete(e),P(e)}}}}function M(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=!!r.capture,a=i?m:y,s=a[e];s||(s=new o,a[e]=s,document.addEventListener(e,T,i)),s.add(t,n)}function L(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=!!r.capture,i=o?m:y,a=i[e];a&&(a.remove(t,n),a.size||(delete i[e],document.removeEventListener(e,T,o)))}},108:function(e,t,n){"use strict";var r=n(10);Object(r.b)("click",".toggle-edit",(function(e){var t=e.target.dataset.toggleHide,n=e.target.dataset.toggleShow,r=0;e.preventDefault();var o=document.querySelectorAll(t);for(r=0;r<o.length;r+=1)o[r].classList.add("hide","visibility","-hidden");for(o=document.querySelectorAll(n),r=0;r<o.length;r+=1)o[r].classList.remove("hide","-hidden")})),Object(r.b)("click",".toggle-expanded",(function(e){var t=e.currentTarget.dataset.target,n=e.currentTarget.dataset.class,r=0;e.preventDefault();var o=document.querySelectorAll(t);for(r=0;r<o.length;r+=1)o[r].classList.toggle(n)}))},2:function(e,t,n){"use strict";function r(e){var t=document.createElement("template");return t.innerHTML=e.trim(),t.content?t.content.firstChild:t.firstChild}function o(){var e=document.querySelector('meta[name="csrf-token"]');return null!==e?e.content:null}function i(e){var t=document.createElement("pre"),n=document.createTextNode(e);return t.appendChild(n),t.innerHTML}function a(e){var t=Math.floor(e/1e3),n=Math.floor(t/60),r=t-60*n;return"".concat(n,":").concat(r<10?"0".concat(r):r)}function s(e,t){if(0===e)return"0 Bytes";var n=t||2,r=Math.floor(Math.log(e)/Math.log(1e3));return"".concat(parseFloat((e/Math.pow(1e3,r)).toFixed(n))," ").concat(["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"][r])}function u(e){return"".concat(e?"add":"remove","EventListener")}function c(e,t,n,r){e[u(r)](t,n)}function l(e,t,n){document.querySelector("#".concat(e,' [name="').concat(t,'"]')).required=n}n.d(t,"e",(function(){return r})),n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return i})),n.d(t,"d",(function(){return a})),n.d(t,"c",(function(){return s})),n.d(t,"g",(function(){return u})),n.d(t,"f",(function(){return c})),n.d(t,"h",(function(){return l}))},23:function(e,t,n){"use strict";function r(e){var t=e.scrollWidth,n=e.parentNode.offsetWidth;if(t>n){var o=50*(t-n);window.$(e).animate({dummy:1},500).animate({scrollLeft:t-n},o).animate({scrollLeft:0},o/2,(function(){return r(e)}))}}n.d(t,"a",(function(){return r}))},27:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));n(61);var r=n(31);function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var s=function(){function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.WRAPPER_CLASS=".zoogle-music-player",this.players=[],this.currentPlayer=void 0,window.zoogleMedia=this,window.zoogleMedia.mediaCount=0,window.zoogleMedia.handleStats=this.handleStats,this.players.remove=function(e){t.players.splice(e,e+1)},this.setup();var n=this;document.addEventListener("pageLoad",(function(){n.setup()})),window.$(document).on("pjax:popstate",(function(){window.zoogleMedia.needsReset=!0}))}var t,n,s;return t=e,(n=[{key:"handleStats",value:function(e,t,n){var r=e.dataset;window.zoogleStats&&r.category&&("undefined"===typeof n&&(n={}),n=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({id:r.id,title:r.title,type:r.category},n),window.zoogleStats[t](n))}},{key:"tearDown",value:function(){document.querySelectorAll(".registered-player").forEach((function(e){e.classList.remove("registered-player")}))}},{key:"resetIfNeeded",value:function(){this.needsReset&&(this.tearDown(),this.needsReset=!1)}},{key:"addPlayers",value:function(){for(var e=document.querySelectorAll(this.WRAPPER_CLASS),t=0;t<e.length;t+=1){var n=e[t];if(!n.classList.contains("registered-player")){n.classList.add("registered-player");var r=new CustomEvent("playerAdded",{detail:{player:n}});document.dispatchEvent(r)}}}},{key:"setup",value:function(){this.resetIfNeeded();var e=this;"undefined"!==typeof window.soundManager&&"undefined"===typeof window.SOUNDMANAGER_IS_SETUP?(window.SOUNDMANAGER_IS_SETUP=!0,window.soundManager=new r.SoundManager,window.soundManager.setup({preferFlash:!1,flashVersion:9,forceUseGlobalHTML5Audio:!0,deferSoundCreateHTML5Setup:!0,useHTML5Audio:!0,waitForWindowLoad:!0,debugMode:!1,onready:function(){e.isLoaded=!0,e.addPlayers();var t=new CustomEvent("soundManagerLoaded");document.dispatchEvent(t)},ontimeout:function(){e.isLoaded=!1,document.addEventListener("click",(function(e){(e.target.classList.contains("play")||e.target.classList.contains("play-button"))&&e.preventDefault()}))}}),window.soundManager.beginDelayedInit()):this.addPlayers()}},{key:"findSoundWrapper",value:function(e){var t=e.closest("li");return t||e.closest("td")}},{key:"register",value:function(e){this.players.push(e)}},{key:"getPlayers",value:function(){return this.players}},{key:"current",value:function(){return this.currentPlayer}},{key:"pause",value:function(){this.currentPlayer&&this.currentPlayer.pause()}},{key:"pauseOnExit",value:function(){this.currentPlayer&&this.currentPlayer.classList.contains("continue-on-exit")||this.pause()}},{key:"setActive",value:function(e){this.currentPlayer!==e&&(this.pause(),this.currentPlayer=e)}},{key:"toggle",value:function(e){var t,n=this.currentTrack,r=document.querySelector("a.play.current");if(r&&(t=this.findSoundWrapper(r),r.classList.remove("current"),t.classList.remove("current")),void 0!==e){var o=e.playable,i=e.player;return this.setActive(i),e.classList.add("current"),(t=this.findSoundWrapper(e)).classList.add("current"),o===n?0===n.position&&3===n.readyState?(this.pauseAllPlayers(),n.play()):n.position>=n.duration&&1!==n.readyState?n.setPosition(0):n.paused?(this.pauseAllPlayers(),n.resume()):n.pause():(this.pauseAllPlayers(),n&&n.position>0&&window.zoogleMedia.handleStats(n.parent,"Skip",{position:n.position,duration:n.duration}),(n=o).setPosition(0),n.play()),this.currentTrack=n,!n.paused}this.pauseAllPlayers()}},{key:"pauseAllPlayers",value:function(){window.soundManager.pauseAll(),this.players.forEach((function(e){e.pause()}))}}])&&a(t.prototype,n),s&&a(t,s),e}(),u=n(10),c=n(23);function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var f=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.LISTENER_TARGETS=["a.play","a.previous-button","a.next-button","a.play-button",".progress",".track-title a","a.toggle-info"],this.LISTENER_CALLBACKS=[this.onPlay,this.onPrevious,this.onNext,this.onPlayButton,this.onProgress,this.onTrackTitle,this.onToggleInfo];for(var t=0;t<this.LISTENER_TARGETS.length;t+=1)Object(u.b)("click",this.LISTENER_TARGETS[t],this.LISTENER_CALLBACKS[t]);document.addEventListener("playerAdded",this.addMarquee)}var t,n,r;return t=e,(n=[{key:"onPlay",value:function(e){var t=e.target;e.preventDefault(),window.zoogleMedia&&window.zoogleMedia.isLoaded&&(t.classList.contains(".play")||(t=t.closest(".play")),window.zoogleMedia.toggle(t))}},{key:"onPrevious",value:function(e){var t=e.target.closest(window.zoogleMedia.WRAPPER_CLASS).player.previousTrack();e.preventDefault(),window.zoogleMedia&&window.zoogleMedia.isLoaded&&window.zoogleMedia.toggle(t)}},{key:"onNext",value:function(e){var t=e.target.closest(window.zoogleMedia.WRAPPER_CLASS).player.nextTrack();e.preventDefault(),window.zoogleMedia&&window.zoogleMedia.isLoaded&&window.zoogleMedia.toggle(t)}},{key:"onPlayButton",value:function(e){if(e.preventDefault(),window.zoogleMedia&&window.zoogleMedia.isLoaded){var t=e.target.closest(window.zoogleMedia.WRAPPER_CLASS).player.currentTrackLink(!0);t&&t.click()}}},{key:"onProgress",value:function(e){if(e.preventDefault(),window.zoogleMedia&&window.zoogleMedia.isLoaded){var t=e.target.closest(window.zoogleMedia.WRAPPER_CLASS).player,n=e.offsetX||e.clientX-e.target.getBoundingClientRect().left,r=e.target.closest(".progress").offsetWidth;t.seekTo(n/r)}}},{key:"onTrackTitle",value:function(e){if(e.preventDefault(),window.zoogleMedia&&window.zoogleMedia.isLoaded){var t=e.target.closest("li").querySelector("a.play");t&&t.click()}}},{key:"onToggleInfo",value:function(e){e.preventDefault(),window.zoogleMedia&&window.zoogleMedia.isLoaded&&e.target.closest(window.zoogleMedia.WRAPPER_CLASS).player.toggleTrackInfo(e.target)}},{key:"addMarquee",value:function(e){if(!window.jQuery||!0!==window.jQuery.fx.off){var t=e.detail.player.querySelector(".marquee");t&&Object(c.a)(t)}}}])&&l(t.prototype,n),r&&l(t,r),e}();function d(){void 0===window.zoogleMedia&&(window.zoogleMedia=new s),void 0===window.zoogleMusic&&(window.zoogleMusic=new f)}},286:function(e,t,n){var r={"./airbit_feature_controller.js":287,"./fb_video_controller.js":288,"./hit_counter_feature_controller.js":289,"./image_and_text_feature_controller.js":290,"./live_text_controller.js":291,"./minimum_value_controller.js":292,"./recaptcha_controller.js":293,"./store_features_controller.js":294,"./subscriptions_dropdown_controller.js":295,"./tip_jar_feature_controller.js":296,"./truncation_controller.js":297,"./twitch_parent_controller.js":298,"./variations_range_controller.js":299,"./zoogle_media_player_controller.js":300,"./zoogle_video_controller.js":301};function o(e){var t=i(e);return n(t)}function i(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}o.keys=function(){return Object.keys(r)},o.resolve=i,e.exports=o,o.id=286},287:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return f}));var r=n(0),o=n(27);function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function u(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=l(e);if(t){var o=l(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return c(this,n)}}function c(e,t){return!t||"object"!==typeof t&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var f=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(l,e);var t,n,r,c=u(l);function l(){return i(this,l),c.apply(this,arguments)}return t=l,(n=[{key:"connect",value:function(){Object(o.a)(),this.registerWithZoogleMedia()}},{key:"disconnect",value:function(){this.unregisterWithZoogleMedia()}},{key:"registerWithZoogleMedia",value:function(){var e=this.element;e.pause=function(){e.contentWindow.postMessage("pause","https://airbit.com")},window.zoogleMedia.register(e)}},{key:"handleAirbitPostMessage",value:function(e){"https://airbit.com"===e.origin&&"pause"===e.data&&window.zoogleMedia.setActive(this.element)}},{key:"unregisterWithZoogleMedia",value:function(){var e=this.element,t=window.zoogleMedia.players.indexOf(e);window.zoogleMedia.players.remove(t),this.clearCurrentPlayer(e)}},{key:"clearCurrentPlayer",value:function(e){window.zoogleMedia.currentPlayer===e&&(window.zoogleMedia.currentPlayer=void 0)}}])&&a(t.prototype,n),r&&a(t,r),l}(r.b)},288:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){return(o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function i(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=s(e);if(t){var o=s(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return a(this,n)}}function a(e,t){return!t||"object"!==typeof t&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function s(e){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}n.r(t),n.d(t,"default",(function(){return u}));var u=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&o(e,t)}(n,e);var t=i(n);function n(){return r(this,n),t.apply(this,arguments)}return n}(n(73).a)},289:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return f}));var r=n(0),o=(n(3),n(2));function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function u(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=l(e);if(t){var o=l(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return c(this,n)}}function c(e,t){return!t||"object"!==typeof t&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var f=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(l,e);var t,n,r,c=u(l);function l(){return i(this,l),c.apply(this,arguments)}return t=l,(n=[{key:"connect",value:function(){document.querySelector(".wysiwyg")||void 0===this.element.dataset.id||this.ping()}},{key:"ping",value:function(){window.fetch("/go/hit_counter_features/".concat(this.element.dataset.id),{method:"PUT",headers:{"Content-Type":"text/html","X-CSRF-Token":Object(o.a)()},credentials:"same-origin"})}}])&&a(t.prototype,n),r&&a(t,r),l}(r.b)},290:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t){return(i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function a(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=u(e);if(t){var o=u(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return s(this,n)}}function s(e,t){return!t||"object"!==typeof t&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}n.r(t),n.d(t,"default",(function(){return c}));var c=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&i(e,t)}(c,e);var t,n,s,u=a(c);function c(){return r(this,c),u.apply(this,arguments)}return t=c,(n=[{key:"onTextContainerClick",value:function(e){(this.isCollageDisplayFormat||this.isTextOnImageDisplayFormat)&&this.imageLinkElement&&this._clickOnImageLinkIfNeeded(e.target)}},{key:"_clickOnImageLinkIfNeeded",value:function(e){e.closest(".text-container-wrapper")||this.imageLinkElement.click()}},{key:"isCollageDisplayFormat",get:function(){return this.element.classList.contains("display-format-collage")}},{key:"isTextOnImageDisplayFormat",get:function(){return this.element.classList.contains("display-format-text_on_image")}},{key:"imageLinkElement",get:function(){return this.element.querySelector(".image-container a")}}])&&o(t.prototype,n),s&&o(t,s),c}(n(0).b)},291:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t){return(i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function a(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=u(e);if(t){var o=u(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return s(this,n)}}function s(e,t){return!t||"object"!==typeof t&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}n.r(t),n.d(t,"default",(function(){return c}));var c=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&i(e,t)}(c,e);var t,n,s,u=a(c);function c(){return r(this,c),u.apply(this,arguments)}return t=c,(n=[{key:"connect",value:function(){var e=this.element.dataset.liveAt,t=this.element.dataset.liveUntil,n=this.element.dataset.liveText,r=(new Date).getTime();r>=e&&r<=t&&(this.element.innerHTML=n)}}])&&o(t.prototype,n),s&&o(t,s),c}(n(0).b)},292:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t){return(i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function a(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=u(e);if(t){var o=u(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return s(this,n)}}function s(e,t){return!t||"object"!==typeof t&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}n.r(t),n.d(t,"default",(function(){return c}));var c=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&i(e,t)}(c,e);var t,n,s,u=a(c);function c(){return r(this,c),u.apply(this,arguments)}return t=c,(n=[{key:"check",value:function(){return this.isValid()?(this.warningTarget.classList.add("hide"),!0):(this.warningTarget.classList.remove("hide"),!1)}},{key:"submit",value:function(e){var t=new URL(this.submitTarget.href),n=this.userValue;this.isValid()?(Number.isNaN(n)||t.searchParams.set("amount",n),this.submitTarget.href=t):e.preventDefault()}},{key:"isValid",value:function(){var e=this.userValue,t=parseFloat(this.priceTarget.dataset.minPrice,10);return""===this.priceTarget.value||Number.isNaN(e)||e>=t}},{key:"userValue",get:function(){return parseFloat(this.priceTarget.value,10)}}])&&o(t.prototype,n),s&&o(t,s),c}(n(0).b);c.targets=["warning","price","submit"]},293:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){return(o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function i(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=s(e);if(t){var o=s(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return a(this,n)}}function a(e,t){return!t||"object"!==typeof t&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function s(e){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}n.r(t),n.d(t,"default",(function(){return u}));var u=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&o(e,t)}(n,e);var t=i(n);function n(){return r(this,n),t.apply(this,arguments)}return n}(n(32).a)},294:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return f}));var r=n(0),o=n(2);function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function u(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=l(e);if(t){var o=l(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return c(this,n)}}function c(e,t){return!t||"object"!==typeof t&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var f=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(l,e);var t,n,r,c=u(l);function l(){var e;i(this,l);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=c.call.apply(c,[this].concat(n))).INTERSECTION_CLASS=".store-wrapper article:last-child",e.OBSERVED_CLASS="store-wrapper-observed",e.OBSERVER_CONFIG={rootMargin:"100px 0px 0px 0px",threshold:0},e}return t=l,(n=[{key:"connect",value:function(){this.wrapper=this.element.closest(".feature"),this.featureId=this.wrapper.dataset.featureId,this.setupDeferredPagination()}},{key:"disconnect",value:function(){this.observer&&this.observer.disconnect&&this.observer.disconnect()}},{key:"setupDeferredPagination",value:function(){var e=this,t=this.wrapper.querySelector(".store-wrapper").dataset.loadMore;if(!0===t||"true"===t)if("undefined"!==typeof IntersectionObserver&&!0!==IntersectionObserver.polyfill){var n=this.element.querySelectorAll("".concat(this.INTERSECTION_CLASS,":not(.").concat(this.OBSERVED_CLASS,")"));this.observer=new IntersectionObserver((function(t){return e.onIntersection(t)}),this.OBSERVER_CONFIG);for(var r=0;r<n.length;r+=1)n[r].classList.add(this.OBSERVED_CLASS),this.observer.observe(n[r])}else this.loadMore(!0)}},{key:"onIntersection",value:function(e){for(var t=0;t<e.length;t+=1){var n=e[t];n.isIntersecting&&(this.observer.unobserve(n.target),n.target.classList.remove(this.OBSERVED_CLASS),this.loadMore())}}},{key:"loadMore",value:function(e){var t=this.element.dataset,n=t.loadMore,r=t.storeId,i=t.offset;if(void 0!==n){var a="/go/stores/".concat(r,"/store_items?offset=").concat(i);void 0!==this.featureId&&(a="".concat(a,"&store_feature_id=").concat(this.featureId));var s=this.element;if(!0===n||"true"===n){!0===e&&(a+="&amount=1000");var u=new XMLHttpRequest,c=this;u.open("GET",a,!0),u.onload=function(){if(u.status>=200&&u.status<400){var e=u.responseText,t=Object(o.e)(e);s.dataset.offset=t.dataset.offset,s.dataset.loadMore=t.dataset.loadMore;var n=s.querySelectorAll("article.empty");Array.prototype.forEach.call(n,(function(e){e.parentNode.removeChild(e)}));for(var r=t.querySelectorAll("article"),i=0;i<r.length;i+=1)s.appendChild(r[i]);document.dispatchEvent(new CustomEvent("pageLoad")),c.setupDeferredPagination()}},u.send()}}}}])&&a(t.prototype,n),r&&a(t,r),l}(r.b)},295:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t){return(i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function a(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=u(e);if(t){var o=u(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return s(this,n)}}function s(e,t){return!t||"object"!==typeof t&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}n.r(t),n.d(t,"default",(function(){return c}));var c=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&i(e,t)}(c,e);var t,n,s,u=a(c);function c(){return r(this,c),u.apply(this,arguments)}return t=c,(n=[{key:"connect",value:function(){this.closed=this.element.classList.contains(this.constructor.ClosedClass),this.toggleMobile()}},{key:"open",value:function(){var e=this;if(this.hasContentTarget){var t=this.contentTarget,n=t.scrollHeight;t.style.height="".concat(n,"px"),t.addEventListener("transitioned",(function(){t.removeEventListener("transitioned",e.open),t.style.height=null}))}}},{key:"close",value:function(){if(this.hasContentTarget){var e=this.contentTarget,t=e.scrollHeight;requestAnimationFrame((function(){e.style.height="".concat(t,"px"),requestAnimationFrame((function(){e.style.height="0px"}))}))}}},{key:"mobile",value:function(){return document.getElementById("usersite-container").classList.contains("mobile-view")}},{key:"toggle",value:function(){this.closed=!this.closed}},{key:"toggleMobile",value:function(){this.mobile()?(this.close(),this.element.classList.add(this.constructor.ClosedClass)):this.open()}},{key:"closed",set:function(e){this.isClosed=e,this.element.classList.toggle(this.constructor.ClosedClass,e),e?this.close():this.open()},get:function(){return this.isClosed}}])&&o(t.prototype,n),s&&o(t,s),c}(n(0).b);c.targets=["content"],c.ClosedClass="-is-closed"},296:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t){return(i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function a(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=u(e);if(t){var o=u(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return s(this,n)}}function s(e,t){return!t||"object"!==typeof t&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}n.r(t),n.d(t,"default",(function(){return c}));var c=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&i(e,t)}(c,e);var t,n,s,u=a(c);function c(){return r(this,c),u.apply(this,arguments)}return t=c,(n=[{key:"connect",value:function(){var e=this;this.observer=new MutationObserver((function(){e.addToCartButtonTarget.classList.contains("in-cart")&&e.toggleForm()}),this),this.observer.observe(this.addToCartButtonTarget,{attributes:!0})}},{key:"toggleForm",value:function(){this.descriptionWrapperTarget.classList.add("hide"),this.formWrapperTarget.classList.remove("hide")}},{key:"disconnect",value:function(){this.observer.disconnect()}}])&&o(t.prototype,n),s&&o(t,s),c}(n(0).b);c.targets=["addToCartButton","descriptionWrapper","formWrapper"]},297:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t){return(i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function a(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=u(e);if(t){var o=u(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return s(this,n)}}function s(e,t){return!t||"object"!==typeof t&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}n.r(t),n.d(t,"default",(function(){return c}));var c=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&i(e,t)}(c,e);var t,n,s,u=a(c);function c(){return r(this,c),u.apply(this,arguments)}return t=c,(n=[{key:"connect",value:function(){""!==this.areaMaxHeight()&&this.applyTruncationClasses()}},{key:"applyTruncationClasses",value:function(){this.isOverflown()&&this.showDetruncate()}},{key:"isOverflown",value:function(){var e=parseInt(this.areaMaxHeight(),10);return this.areaTarget.scrollHeight>e||this.areaTarget.scrollWidth>this.areaTarget.clientWidth}},{key:"detruncate",value:function(e){e.preventDefault(),this.areaTarget.classList.remove("truncate-long"),this.areaTarget.classList.add("truncated"),this.showRetruncate()}},{key:"retruncate",value:function(e){e.preventDefault(),this.areaTarget.classList.remove("truncated"),this.areaTarget.classList.add("truncate-long"),this.showDetruncate()}},{key:"showRetruncate",value:function(){this.retruncateTarget.classList.remove("hide"),this.detruncateTarget.classList.add("hide")}},{key:"showDetruncate",value:function(){this.retruncateTarget.classList.add("hide"),this.detruncateTarget.classList.remove("hide")}},{key:"areaMaxHeight",value:function(){return window.getComputedStyle(this.areaTarget).maxHeight}}])&&o(t.prototype,n),s&&o(t,s),c}(n(0).b);c.targets=["area","detruncate","retruncate"]},298:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){return(o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function i(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=s(e);if(t){var o=s(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return a(this,n)}}function a(e,t){return!t||"object"!==typeof t&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function s(e){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}n.r(t),n.d(t,"default",(function(){return u}));var u=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&o(e,t)}(n,e);var t=i(n);function n(){return r(this,n),t.apply(this,arguments)}return n}(n(78).a)},299:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t){return(i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function a(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=u(e);if(t){var o=u(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return s(this,n)}}function s(e,t){return!t||"object"!==typeof t&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}n.r(t),n.d(t,"default",(function(){return c}));var c=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&i(e,t)}(c,e);var t,n,s,u=a(c);function c(){return r(this,c),u.apply(this,arguments)}return t=c,(n=[{key:"connect",value:function(){var e=[];JSON.parse(this.element.dataset.variations).forEach((function(t){var n=t.price;e.push([n,parseFloat(n.replace(/[^\d.-]/g,""))])}));var t=e[0],n=e[0];if(e.forEach((function(e){e[1]<t[1]&&(t=e),e[1]>n[1]&&(n=e)})),t[1]!==n[1]){var r=this.hintTarget.innerHTML,o="".concat(t[0]," - ").concat(n[0]);-1===r.indexOf(o)&&(this.hintTarget.innerHTML="".concat(r," ").concat(o),this.hintTarget.classList.remove("hide"))}}}])&&o(t.prototype,n),s&&o(t,s),c}(n(0).b);c.targets=["hint"]},3:function(e,t,n){"use strict";function r(e){return(r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var o="undefined"!==typeof globalThis&&globalThis||"undefined"!==typeof self&&self||"undefined"!==typeof o&&o,i="URLSearchParams"in o,a="Symbol"in o&&"iterator"in Symbol,s="FileReader"in o&&"Blob"in o&&function(){try{return new Blob,!0}catch(e){return!1}}(),u="FormData"in o,c="ArrayBuffer"in o;if(c)var l=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],f=ArrayBuffer.isView||function(e){return e&&l.indexOf(Object.prototype.toString.call(e))>-1};function d(e){if("string"!==typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(e)||""===e)throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function p(e){return"string"!==typeof e&&(e=String(e)),e}function h(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return a&&(t[Symbol.iterator]=function(){return t}),t}function y(e){this.map={},e instanceof y?e.forEach((function(e,t){this.append(t,e)}),this):Array.isArray(e)?e.forEach((function(e){this.append(e[0],e[1])}),this):e&&Object.getOwnPropertyNames(e).forEach((function(t){this.append(t,e[t])}),this)}function m(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function g(e){return new Promise((function(t,n){e.onload=function(){t(e.result)},e.onerror=function(){n(e.error)}}))}function v(e){var t=new FileReader,n=g(t);return t.readAsArrayBuffer(e),n}function b(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function w(){return this.bodyUsed=!1,this._initBody=function(e){var t;this.bodyUsed=this.bodyUsed,this._bodyInit=e,e?"string"===typeof e?this._bodyText=e:s&&Blob.prototype.isPrototypeOf(e)?this._bodyBlob=e:u&&FormData.prototype.isPrototypeOf(e)?this._bodyFormData=e:i&&URLSearchParams.prototype.isPrototypeOf(e)?this._bodyText=e.toString():c&&s&&((t=e)&&DataView.prototype.isPrototypeOf(t))?(this._bodyArrayBuffer=b(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):c&&(ArrayBuffer.prototype.isPrototypeOf(e)||f(e))?this._bodyArrayBuffer=b(e):this._bodyText=e=Object.prototype.toString.call(e):this._bodyText="",this.headers.get("content-type")||("string"===typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):i&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},s&&(this.blob=function(){var e=m(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){if(this._bodyArrayBuffer){var e=m(this);return e||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}return this.blob().then(v)}),this.text=function(){var e,t,n,r=m(this);if(r)return r;if(this._bodyBlob)return e=this._bodyBlob,t=new FileReader,n=g(t),t.readAsText(e),n;if(this._bodyArrayBuffer)return Promise.resolve(function(e){for(var t=new Uint8Array(e),n=new Array(t.length),r=0;r<t.length;r++)n[r]=String.fromCharCode(t[r]);return n.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},u&&(this.formData=function(){return this.text().then(S)}),this.json=function(){return this.text().then(JSON.parse)},this}y.prototype.append=function(e,t){e=d(e),t=p(t);var n=this.map[e];this.map[e]=n?n+", "+t:t},y.prototype.delete=function(e){delete this.map[d(e)]},y.prototype.get=function(e){return e=d(e),this.has(e)?this.map[e]:null},y.prototype.has=function(e){return this.map.hasOwnProperty(d(e))},y.prototype.set=function(e,t){this.map[d(e)]=p(t)},y.prototype.forEach=function(e,t){for(var n in this.map)this.map.hasOwnProperty(n)&&e.call(t,this.map[n],n,this)},y.prototype.keys=function(){var e=[];return this.forEach((function(t,n){e.push(n)})),h(e)},y.prototype.values=function(){var e=[];return this.forEach((function(t){e.push(t)})),h(e)},y.prototype.entries=function(){var e=[];return this.forEach((function(t,n){e.push([n,t])})),h(e)},a&&(y.prototype[Symbol.iterator]=y.prototype.entries);var _=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function O(e,t){if(!(this instanceof O))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');var n,r,o=(t=t||{}).body;if(e instanceof O){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new y(e.headers)),this.method=e.method,this.mode=e.mode,this.signal=e.signal,o||null==e._bodyInit||(o=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"same-origin",!t.headers&&this.headers||(this.headers=new y(t.headers)),this.method=(n=t.method||this.method||"GET",r=n.toUpperCase(),_.indexOf(r)>-1?r:n),this.mode=t.mode||this.mode||null,this.signal=t.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&o)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(o),("GET"===this.method||"HEAD"===this.method)&&("no-store"===t.cache||"no-cache"===t.cache)){var i=/([?&])_=[^&]*/;if(i.test(this.url))this.url=this.url.replace(i,"$1_="+(new Date).getTime());else{this.url+=(/\?/.test(this.url)?"&":"?")+"_="+(new Date).getTime()}}}function S(e){var t=new FormData;return e.trim().split("&").forEach((function(e){if(e){var n=e.split("="),r=n.shift().replace(/\+/g," "),o=n.join("=").replace(/\+/g," ");t.append(decodeURIComponent(r),decodeURIComponent(o))}})),t}function E(e,t){if(!(this instanceof E))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');t||(t={}),this.type="default",this.status=void 0===t.status?200:t.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in t?t.statusText:"",this.headers=new y(t.headers),this.url=t.url||"",this._initBody(e)}O.prototype.clone=function(){return new O(this,{body:this._bodyInit})},w.call(O.prototype),w.call(E.prototype),E.prototype.clone=function(){return new E(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new y(this.headers),url:this.url})},E.error=function(){var e=new E(null,{status:0,statusText:""});return e.type="error",e};var P=[301,302,303,307,308];E.redirect=function(e,t){if(-1===P.indexOf(t))throw new RangeError("Invalid status code");return new E(null,{status:t,headers:{location:e}})};var T=o.DOMException;try{new T}catch(L){(T=function(e,t){this.message=e,this.name=t;var n=Error(e);this.stack=n.stack}).prototype=Object.create(Error.prototype),T.prototype.constructor=T}function M(e,t){return new Promise((function(n,i){var a=new O(e,t);if(a.signal&&a.signal.aborted)return i(new T("Aborted","AbortError"));var u=new XMLHttpRequest;function l(){u.abort()}u.onload=function(){var e,t,r={status:u.status,statusText:u.statusText,headers:(e=u.getAllResponseHeaders()||"",t=new y,e.replace(/\r?\n[\t ]+/g," ").split("\r").map((function(e){return 0===e.indexOf("\n")?e.substr(1,e.length):e})).forEach((function(e){var n=e.split(":"),r=n.shift().trim();if(r){var o=n.join(":").trim();t.append(r,o)}})),t)};r.url="responseURL"in u?u.responseURL:r.headers.get("X-Request-URL");var o="response"in u?u.response:u.responseText;setTimeout((function(){n(new E(o,r))}),0)},u.onerror=function(){setTimeout((function(){i(new TypeError("Network request failed"))}),0)},u.ontimeout=function(){setTimeout((function(){i(new TypeError("Network request failed"))}),0)},u.onabort=function(){setTimeout((function(){i(new T("Aborted","AbortError"))}),0)},u.open(a.method,function(e){try{return""===e&&o.location.href?o.location.href:e}catch(t){return e}}(a.url),!0),"include"===a.credentials?u.withCredentials=!0:"omit"===a.credentials&&(u.withCredentials=!1),"responseType"in u&&(s?u.responseType="blob":c&&a.headers.get("Content-Type")&&-1!==a.headers.get("Content-Type").indexOf("application/octet-stream")&&(u.responseType="arraybuffer")),!t||"object"!==r(t.headers)||t.headers instanceof y?a.headers.forEach((function(e,t){u.setRequestHeader(t,e)})):Object.getOwnPropertyNames(t.headers).forEach((function(e){u.setRequestHeader(e,p(t.headers[e]))})),a.signal&&(a.signal.addEventListener("abort",l),u.onreadystatechange=function(){4===u.readyState&&a.signal.removeEventListener("abort",l)}),u.send("undefined"===typeof a._bodyInit?null:a._bodyInit)}))}M.polyfill=!0,o.fetch||(o.fetch=M,o.Headers=y,o.Request=O,o.Response=E)},300:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){return(o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function i(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=s(e);if(t){var o=s(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return a(this,n)}}function a(e,t){return!t||"object"!==typeof t&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function s(e){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}n.r(t),n.d(t,"default",(function(){return u}));var u=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&o(e,t)}(n,e);var t=i(n);function n(){return r(this,n),t.apply(this,arguments)}return n}(n(84).a)},301:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return f}));var r=n(0),o=n(27);function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function u(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=l(e);if(t){var o=l(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return c(this,n)}}function c(e,t){return!t||"object"!==typeof t&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var f=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(l,e);var t,n,r,c=u(l);function l(){var e;i(this,l);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=c.call.apply(c,[this].concat(n))).VIMEO_SELECTOR='iframe[src*="player.vimeo.com"]',e.YOUTUBE_SELECTOR='iframe[src*="youtube.com/embed"]',e.VIDEO_SELECTORS='iframe[src*="player.vimeo.com"],iframe[src*="youtube.com/embed"]',e.HANDLED_CLASS="zoogle-handled",e}return t=l,(n=[{key:"connect",value:function(){this.element.querySelector(this.VIDEO_SELECTORS)&&(Object(o.a)(),this.element.querySelector(this.VIMEO_SELECTOR)&&this.setupVimeoVideos(),this.element.querySelector(this.YOUTUBE_SELECTOR)&&this.setupYoutubeVideos(),this.wrapUnwrappedVideos())}},{key:"disconnect",value:function(){this.unregisterYoutubePlayers(),this.unregisterVimeoPlayers()}},{key:"setupVimeoVideos",value:function(){var e=this;this.element.querySelectorAll(this.VIMEO_SELECTOR).forEach((function(t){if(!t.id){for(var n=0,r="vimeo".concat(n);document.getElementById(r);)r="vimeo".concat(n+=1);t.id=r}t.classList.add(e.HANDLED_CLASS),e.registerVimeoPlayerWithZoogleMedia(t)}))}},{key:"handleVimeoPostMessage",value:function(e){if(!("undefined"===typeof e.data||"object"===typeof e.data||e.data&&e.data.match(/^_FB_/))){var t;try{t=JSON.parse(e.data)}catch(n){t={}}t.player_id&&this.element.querySelector("#".concat(t.player_id))&&("ready"===t.event?this.postToVimeo(t.player_id,{method:"addEventListener",value:"play"}):"play"===t.event&&window.zoogleMedia.setActive(this.element.querySelector("#".concat(t.player_id))))}}},{key:"postToVimeo",value:function(e,t){var n=this.element.querySelector("#".concat(e));if(n){var r=n.src.split("?")[0];n.contentWindow.postMessage(JSON.stringify(t),r)}}},{key:"registerVimeoPlayerWithZoogleMedia",value:function(e){var t=this;e.pause=function(){t.postToVimeo(e.id,{method:"pause"})},window.zoogleMedia.register(e)}},{key:"setupYoutubeVideos",value:function(){var e=this;if(window.ytLoaded)this.registerYouTubeEvents();else{var t=document.createElement("script");t.src="https://www.youtube.com/iframe_api";var n=document.getElementsByTagName("script")[0];n.parentNode.insertBefore(t,n),window.YT_ready((function(){e.registerYouTubeEvents()}))}}},{key:"registerYouTubeEvents",value:function(){var e=this,t=function(e){e.data===window.YT.PlayerState.PLAYING&&window.zoogleMedia.setActive(e.target)};this.element.querySelectorAll("".concat(this.YOUTUBE_SELECTOR,":not(.").concat(this.HANDLED_CLASS,")")).forEach((function(n){var r=n.src;if(r.match(/enablejsapi=1/i)){if(n.classList.add(e.HANDLED_CLASS),r.match("^http://")&&(n.src=r.replace(/^http:\/\//i,"https://")),!n.id){for(var o=0,i="yt-".concat(o);document.getElementById(i);)i="yt-".concat(o+=1);n.id=i}var a=new window.YT.Player(n.id,{events:{onStateChange:t}});a.pause=function(){a.pauseVideo()},a.classList=n.classList,window.zoogleMedia.register(a)}}))}},{key:"wrapUnwrappedVideos",value:function(){this.element.querySelectorAll(this.VIDEO_SELECTORS).forEach((function(e){if(!e.classList.contains([".skip-wrapper",".wrapped"])){e.classList.add("wrapped");var t=document.createElement("div");t.className="video-container",e.parentNode.insertBefore(t,e),e.parentNode.removeChild(e),t.appendChild(e)}}))}},{key:"unregisterYoutubePlayers",value:function(){var e=this;this.element.querySelectorAll("".concat(this.YOUTUBE_SELECTOR,".").concat(this.HANDLED_CLASS)).forEach((function(t){var n=window.zoogleMedia.players.findIndex((function(e){return e.a===t}));window.zoogleMedia.players.remove(n),e.clearCurrentPlayer(t)}))}},{key:"unregisterVimeoPlayers",value:function(){var e=this;this.element.querySelectorAll("".concat(this.VIMEO_SELECTOR,".").concat(this.HANDLED_CLASS)).forEach((function(t){var n=window.zoogleMedia.players.indexOf(t);window.zoogleMedia.players.remove(n),e.clearCurrentPlayer(t)}))}},{key:"clearCurrentPlayer",value:function(e){window.zoogleMedia.currentPlayer===e&&(window.zoogleMedia.currentPlayer=void 0)}}])&&a(t.prototype,n),r&&a(t,r),l}(r.b)},31:function(e,t,n){(function(e){var r;function o(e){return(o="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}!function(i,a){"use strict";if(!i||!i.document)throw new Error("SoundManager requires a browser with window and document objects.");var s=null;function u(e,t){this.setupOptions={url:e||null,flashVersion:8,debugMode:!0,debugFlash:!1,useConsole:!0,consoleOnly:!0,waitForWindowLoad:!1,bgColor:"#ffffff",useHighPerformance:!1,flashPollingInterval:null,html5PollingInterval:null,flashLoadTimeout:1e3,wmode:null,allowScriptAccess:"always",useFlashBlock:!1,useHTML5Audio:!0,forceUseGlobalHTML5Audio:!1,ignoreMobileRestrictions:!1,html5Test:/^(probably|maybe)$/i,preferFlash:!1,noSWFCache:!1,idPrefix:"sound",deferSoundCreateHTML5Setup:!1},this.defaultOptions={autoLoad:!1,autoPlay:!1,from:null,loops:1,onid3:null,onerror:null,onload:null,whileloading:null,onplay:null,onpause:null,onresume:null,whileplaying:null,onposition:null,onstop:null,onfinish:null,multiShot:!0,multiShotEvents:!1,position:null,pan:0,playbackRate:1,stream:!0,to:null,type:null,usePolicyFile:!1,volume:100},this.flash9Options={onfailure:null,isMovieStar:null,usePeakData:!1,useWaveformData:!1,useEQData:!1,onbufferchange:null,ondataerror:null},this.movieStarOptions={bufferTime:3,serverURL:null,onconnect:null,duration:null},this.audioFormats={mp3:{type:['audio/mpeg; codecs="mp3"',"audio/mpeg","audio/mp3","audio/MPA","audio/mpa-robust"],required:!0},mp4:{related:["aac","m4a","m4b"],type:['audio/mp4; codecs="mp4a.40.2"',"audio/aac","audio/x-m4a","audio/MP4A-LATM","audio/mpeg4-generic"],required:!1},ogg:{type:["audio/ogg; codecs=vorbis"],required:!1},opus:{type:["audio/ogg; codecs=opus","audio/opus"],required:!1},wav:{type:['audio/wav; codecs="1"',"audio/wav","audio/wave","audio/x-wav"],required:!1},flac:{type:["audio/flac"],required:!1}},this.movieID="sm2-container",this.id=t||"sm2movie",this.debugID="soundmanager-debug",this.debugURLParam=/([#?&])debug=1/i,this.versionNumber="V2.97a.20170601",this.version=null,this.movieURL=null,this.altURL=null,this.swfLoaded=!1,this.enabled=!1,this.oMC=null,this.sounds={},this.soundIDs=[],this.muted=!1,this.didFlashBlock=!1,this.filePattern=null,this.filePatterns={flash8:/\.mp3(\?.*)?$/i,flash9:/\.mp3(\?.*)?$/i},this.features={buffering:!1,peakData:!1,waveformData:!1,eqData:!1,movieStar:!1},this.sandbox={type:null,types:{remote:"remote (domain-based) rules",localWithFile:"local with file access (no internet access)",localWithNetwork:"local with network (internet access only, no local access)",localTrusted:"local, trusted (local+internet access)"},description:null,noRemote:null,noLocal:null},this.html5={usingFlash:null},this.flash={},this.html5Only=!1,this.ignoreFlash=!1;var n,r,s,u,c,l,f,d,p,h,y,m,g,v,b,w,_,O,S,E,P,T,M,L,A,k,D,j,R,C,I,x,F,B,N,U,H,q,V,z,W,K,G,Y,$,Q,X,J,Z,ee,te,ne,re,oe,ie,ae,se,ue,ce,le,fe,de,pe,he,ye,me=this,ge=null,ve=null,be="soundManager",we=be+": ",_e=navigator.userAgent,Oe=i.location.href.toString(),Se=document,Ee=[],Pe=!0,Te=!1,Me=!1,Le=!1,Ae=!1,ke=!1,De=0,je=["log","info","warn","error"],Re=null,Ce=null,Ie=!1,xe=!1,Fe=0,Be=null,Ne=[],Ue=null,He=Array.prototype.slice,qe=!1,Ve=0,ze=_e.match(/(ipad|iphone|ipod)/i),We=_e.match(/android/i),Ke=_e.match(/msie|trident/i),Ge=_e.match(/webkit/i),Ye=_e.match(/safari/i)&&!_e.match(/chrome/i),$e=_e.match(/opera/i),Qe=_e.match(/(mobile|pre\/|xoom)/i)||ze||We,Xe=!Oe.match(/usehtml5audio/i)&&!Oe.match(/sm2-ignorebadua/i)&&Ye&&!_e.match(/silk/i)&&_e.match(/OS\sX\s10_6_([3-7])/i),Je=i.console!==a&&console.log!==a,Ze=Se.hasFocus!==a?Se.hasFocus():null,et=Ye&&(Se.hasFocus===a||!Se.hasFocus()),tt=!et,nt=/(mp3|mp4|mpa|m4a|m4b)/i,rt=Se.location?Se.location.protocol.match(/http/i):null,ot=rt?"":"//",it=/^\s*audio\/(?:x-)?(?:mpeg4|aac|flv|mov|mp4|m4v|m4a|m4b|mp4v|3gp|3g2)\s*(?:$|;)/i,at=["mpeg4","aac","flv","mov","mp4","m4v","f4v","m4a","m4b","mp4v","3gp","3g2"],st=new RegExp("\\.("+at.join("|")+")(\\?.*)?$","i");function ut(e){return me.preferFlash&&ue&&!me.ignoreFlash&&me.flash[e]!==a&&me.flash[e]}function ct(e){return function(t){var n,r=this._s;return r&&r._a?n=e.call(this,t):(r&&r.id?me._wD(r.id+": Ignoring "+t.type):me._wD("HTML5::Ignoring "+t.type),n=null),n}}this.mimePattern=/^\s*audio\/(?:x-)?(?:mp(?:eg|3))\s*(?:$|;)/i,this.useAltURL=!rt,H={swfBox:"sm2-object-box",swfDefault:"movieContainer",swfError:"swf_error",swfTimedout:"swf_timedout",swfLoaded:"swf_loaded",swfUnblocked:"swf_unblocked",sm2Debug:"sm2_debug",highPerf:"high_performance",flashDebug:"flash_debug"},te=[null,"MEDIA_ERR_ABORTED","MEDIA_ERR_NETWORK","MEDIA_ERR_DECODE","MEDIA_ERR_SRC_NOT_SUPPORTED"],this.hasHTML5=function(){try{return Audio!==a&&($e&&opera!==a&&opera.version()<10?new Audio(null):new Audio).canPlayType!==a}catch(e){return!1}}(),this.setup=function(e){var t=!me.url;return e!==a&&Le&&Ue&&me.ok()&&(e.flashVersion!==a||e.url!==a||e.html5Test!==a)&&W(B("setupLate")),y(e),qe||(Qe?me.setupOptions.ignoreMobileRestrictions&&!me.setupOptions.forceUseGlobalHTML5Audio||(Ne.push(P.globalHTML5),qe=!0):me.setupOptions.forceUseGlobalHTML5Audio&&(Ne.push(P.globalHTML5),qe=!0)),!ye&&Qe&&(me.setupOptions.ignoreMobileRestrictions?Ne.push(P.ignoreMobile):(me.setupOptions.useHTML5Audio&&!me.setupOptions.preferFlash||me._wD(P.mobileUA),me.setupOptions.useHTML5Audio=!0,me.setupOptions.preferFlash=!1,ze?me.ignoreFlash=!0:(We&&!_e.match(/android\s2\.3/i)||!We)&&(me._wD(P.globalHTML5),qe=!0))),e&&(t&&A&&e.url!==a&&me.beginDelayedInit(),A||e.url===a||"complete"!==Se.readyState||setTimeout(M,1)),ye=!0,me},this.ok=function(){return Ue?Le&&!Ae:me.useHTML5Audio&&me.hasHTML5},this.supported=this.ok,this.getMovie=function(e){return r(e)||Se[e]||i[e]},this.createSound=function(e,t){var r,o,i,s=null;if(o=(r=be+".createSound(): ")+B(Le?"notOK":"notReady"),!Le||!me.ok())return W(o),!1;if(t!==a&&(e={id:e,url:t}),(i=h(e)).url=Q(i.url),i.id===a&&(i.id=me.setupOptions.idPrefix+Ve++),i.id.toString().charAt(0).match(/^[0-9]$/)&&me._wD(r+B("badID",i.id),2),me._wD(r+i.id+(i.url?" ("+i.url+")":""),1),K(i.id,!0))return me._wD(r+i.id+" exists",1),me.sounds[i.id];function u(){return i=V(i),me.sounds[i.id]=new n(i),me.soundIDs.push(i.id),me.sounds[i.id]}if(Z(i))s=u(),me.html5Only||me._wD(i.id+": Using HTML5"),me.setupOptions.deferSoundCreateHTML5Setup||s._setup_html5(i);else{if(me.html5Only)return me._wD(i.id+": No HTML5 support for this sound, and no Flash. Exiting."),u();if(me.html5.usingFlash&&i.url&&i.url.match(/data:/i))return me._wD(i.id+": data: URIs not supported via Flash. Exiting."),u();l>8&&(null===i.isMovieStar&&(i.isMovieStar=!!(i.serverURL||i.type&&i.type.match(it)||i.url&&i.url.match(st))),i.isMovieStar&&(me._wD(r+"using MovieStar handling"),i.loops>1&&d("noNSLoop"))),i=z(i,r),s=u(),8===l?ve._createSound(i.id,i.loops||1,i.usePolicyFile):(ve._createSound(i.id,i.url,i.usePeakData,i.useWaveformData,i.useEQData,i.isMovieStar,!!i.isMovieStar&&i.bufferTime,i.loops||1,i.serverURL,i.duration||null,i.autoPlay,!0,i.autoLoad,i.usePolicyFile),i.serverURL||(s.connected=!0,i.onconnect&&i.onconnect.apply(s))),i.serverURL||!i.autoLoad&&!i.autoPlay||s.load(i)}return!i.serverURL&&i.autoPlay&&s.play(),s},this.destroySound=function(e,t){if(!K(e))return!1;var n,r=me.sounds[e];for(r.stop(),r._iO={},r.unload(),n=0;n<me.soundIDs.length;n++)if(me.soundIDs[n]===e){me.soundIDs.splice(n,1);break}return t||r.destruct(!0),r=null,delete me.sounds[e],!0},this.load=function(e,t){return!!K(e)&&me.sounds[e].load(t)},this.unload=function(e){return!!K(e)&&me.sounds[e].unload()},this.onPosition=function(e,t,n,r){return!!K(e)&&me.sounds[e].onposition(t,n,r)},this.onposition=this.onPosition,this.clearOnPosition=function(e,t,n){return!!K(e)&&me.sounds[e].clearOnPosition(t,n)},this.play=function(e,t){var n=null,r=t&&!(t instanceof Object);if(!Le||!me.ok())return W(be+".play(): "+B(Le?"notOK":"notReady")),!1;if(K(e,r))r&&(t={url:t});else{if(!r)return!1;r&&(t={url:t}),t&&t.url&&(me._wD(be+'.play(): Attempting to create "'+e+'"',1),t.id=e,n=me.createSound(t).play())}return null===n&&(n=me.sounds[e].play(t)),n},this.start=this.play,this.setPlaybackRate=function(e,t,n){return!!K(e)&&me.sounds[e].setPlaybackRate(t,n)},this.setPosition=function(e,t){return!!K(e)&&me.sounds[e].setPosition(t)},this.stop=function(e){return!!K(e)&&(me._wD(be+".stop("+e+")",1),me.sounds[e].stop())},this.stopAll=function(){var e;for(e in me._wD(be+".stopAll()",1),me.sounds)me.sounds.hasOwnProperty(e)&&me.sounds[e].stop()},this.pause=function(e){return!!K(e)&&me.sounds[e].pause()},this.pauseAll=function(){var e;for(e=me.soundIDs.length-1;e>=0;e--)me.sounds[me.soundIDs[e]].pause()},this.resume=function(e){return!!K(e)&&me.sounds[e].resume()},this.resumeAll=function(){var e;for(e=me.soundIDs.length-1;e>=0;e--)me.sounds[me.soundIDs[e]].resume()},this.togglePause=function(e){return!!K(e)&&me.sounds[e].togglePause()},this.setPan=function(e,t){return!!K(e)&&me.sounds[e].setPan(t)},this.setVolume=function(e,t){var n,r;if(e!==a&&!isNaN(e)&&t===a){for(n=0,r=me.soundIDs.length;n<r;n++)me.sounds[me.soundIDs[n]].setVolume(e);return!1}return!!K(e)&&me.sounds[e].setVolume(t)},this.mute=function(e){var t=0;if(e instanceof String&&(e=null),e)return!!K(e)&&(me._wD(be+'.mute(): Muting "'+e+'"'),me.sounds[e].mute());for(me._wD(be+".mute(): Muting all sounds"),t=me.soundIDs.length-1;t>=0;t--)me.sounds[me.soundIDs[t]].mute();return me.muted=!0,!0},this.muteAll=function(){me.mute()},this.unmute=function(e){var t;if(e instanceof String&&(e=null),e)return!!K(e)&&(me._wD(be+'.unmute(): Unmuting "'+e+'"'),me.sounds[e].unmute());for(me._wD(be+".unmute(): Unmuting all sounds"),t=me.soundIDs.length-1;t>=0;t--)me.sounds[me.soundIDs[t]].unmute();return me.muted=!1,!0},this.unmuteAll=function(){me.unmute()},this.toggleMute=function(e){return!!K(e)&&me.sounds[e].toggleMute()},this.getMemoryUse=function(){var e=0;return ve&&8!==l&&(e=parseInt(ve._getMemoryUse(),10)),e},this.disable=function(e){var t;if(e===a&&(e=!1),Ae)return!1;for(Ae=!0,d("shutdown",1),t=me.soundIDs.length-1;t>=0;t--)I(me.sounds[me.soundIDs[t]]);return I(me),p(e),ae.remove(i,"load",b),!0},this.canPlayMIME=function(e){var t;return me.hasHTML5&&(t=ee({type:e})),!t&&Ue&&(t=e&&me.ok()?!!(l>8&&e.match(it)||e.match(me.mimePattern)):null),t},this.canPlayURL=function(e){var t;return me.hasHTML5&&(t=ee({url:e})),!t&&Ue&&(t=e&&me.ok()?!!e.match(me.filePattern):null),t},this.canPlayLink=function(e){return!(e.type===a||!e.type||!me.canPlayMIME(e.type))||me.canPlayURL(e.href)},this.getSoundById=function(e,t){if(!e)return null;var n=me.sounds[e];return n||t||me._wD(be+'.getSoundById(): Sound "'+e+'" not found.',2),n},this.onready=function(e,t){if("function"!==typeof e)throw B("needFunction","onready");return Le&&me._wD(B("queue","onready")),t||(t=i),g("onready",e,t),v(),!0},this.ontimeout=function(e,t){var n="ontimeout";if("function"!==typeof e)throw B("needFunction",n);return Le&&me._wD(B("queue",n)),t||(t=i),g(n,e,t),v({type:n}),!0},this._writeDebug=function(e,t){var n,i;return!!me.setupOptions.debugMode&&(!!(Je&&me.useConsole&&(t&&"object"===o(t)?console.log(e,t):je[t]!==a?console[je[t]](e):console.log(e),me.consoleOnly))||!!(n=r("soundmanager-debug"))&&(i=Se.createElement("div"),++De%2===0&&(i.className="sm2-alt"),t=t===a?0:parseInt(t,10),i.appendChild(Se.createTextNode(e)),t&&(t>=2&&(i.style.fontWeight="bold"),3===t&&(i.style.color="#ff3333")),n.insertBefore(i,n.firstChild),n=null,!0))},-1!==Oe.indexOf("sm2-debug=alert")&&(this._writeDebug=function(e){i.alert(e)}),this._wD=this._writeDebug,this._debug=function(){var e,t;for(d("currentObj",1),e=0,t=me.soundIDs.length;e<t;e++)me.sounds[me.soundIDs[e]]._debug()},this.reboot=function(e,t){var n,r,o;for(me.soundIDs.length&&me._wD("Destroying "+me.soundIDs.length+" SMSound object"+(1!==me.soundIDs.length?"s":"")+"..."),n=me.soundIDs.length-1;n>=0;n--)me.sounds[me.soundIDs[n]].destruct();if(ve)try{Ke&&(Ce=ve.innerHTML),Re=ve.parentNode.removeChild(ve)}catch(a){d("badRemove",2)}if(Ce=Re=Ue=ve=null,me.enabled=A=Le=Ie=xe=Te=Me=Ae=qe=me.swfLoaded=!1,me.soundIDs=[],me.sounds={},Ve=0,ye=!1,e)Ee=[];else for(n in Ee)if(Ee.hasOwnProperty(n))for(r=0,o=Ee[n].length;r<o;r++)Ee[n][r].fired=!1;return t||me._wD(be+": Rebooting..."),me.html5={usingFlash:null},me.flash={},me.html5Only=!1,me.ignoreFlash=!1,i.setTimeout((function(){t||me.beginDelayedInit()}),20),me},this.reset=function(){return d("reset"),me.reboot(!0,!0)},this.getMoviePercent=function(){return ve&&"PercentLoaded"in ve?ve.PercentLoaded():null},this.beginDelayedInit=function(){ke=!0,M(),setTimeout((function(){return!xe&&(D(),T(),xe=!0,!0)}),20),w()},this.destruct=function(){me._wD(be+".destruct()"),me.disable(!0)},n=function(e){var t,n,r,o,i,s,u,c,p,y,m=this,g=!1,v=[],b=0,w=null;p={duration:null,time:null},this.id=e.id,this.sID=this.id,this.url=e.url,this.options=h(e),this.instanceOptions=this.options,this._iO=this.instanceOptions,this.pan=this.options.pan,this.volume=this.options.volume,this.isHTML5=!1,this._a=null,y=!this.url,this.id3={},this._debug=function(){me._wD(m.id+": Merged options:",m.options)},this.load=function(e){var t;if(e!==a?m._iO=h(e,m.options):(e=m.options,m._iO=e,w&&w!==m.url&&(d("manURL"),m._iO.url=m.url,m.url=null)),m._iO.url||(m._iO.url=m.url),m._iO.url=Q(m._iO.url),m.instanceOptions=m._iO,t=m._iO,me._wD(m.id+": load ("+t.url+")"),!t.url&&!m.url)return me._wD(m.id+": load(): url is unassigned. Exiting.",2),m;if(m.isHTML5||8!==l||m.url||t.autoPlay||me._wD(m.id+": Flash 8 load() limitation: Wait for onload() before calling play().",1),t.url===m.url&&0!==m.readyState&&2!==m.readyState)return d("onURL",1),3===m.readyState&&t.onload&&he(m,(function(){t.onload.apply(m,[!!m.duration])})),m;if(m.loaded=!1,m.readyState=1,m.playState=0,m.id3={},Z(t))m._setup_html5(t)._called_load?me._wD(m.id+": Ignoring request to load again"):(m._html5_canplay=!1,m.url!==t.url&&(me._wD(d("manURL")+": "+t.url),m._a.src=t.url,m.setPosition(0)),m._a.autobuffer="auto",m._a.preload="auto",m._a._called_load=!0);else{if(me.html5Only)return me._wD(m.id+": No flash support. Exiting."),m;if(m._iO.url&&m._iO.url.match(/data:/i))return me._wD(m.id+": data: URIs not supported via Flash. Exiting."),m;try{m.isHTML5=!1,m._iO=z(V(t)),m._iO.autoPlay&&(m._iO.position||m._iO.from)&&(me._wD(m.id+": Disabling autoPlay because of non-zero offset case"),m._iO.autoPlay=!1),t=m._iO,8===l?ve._load(m.id,t.url,t.stream,t.autoPlay,t.usePolicyFile):ve._load(m.id,t.url,!!t.stream,!!t.autoPlay,t.loops||1,!!t.autoLoad,t.usePolicyFile)}catch(n){d("smError",2),f("onload",!1),j({type:"SMSOUND_LOAD_JS_EXCEPTION",fatal:!0})}}return m.url=t.url,m},this.unload=function(){return 0!==m.readyState&&(me._wD(m.id+": unload()"),m.isHTML5?(o(),m._a&&(m._a.pause(),w=re(m._a))):8===l?ve._unload(m.id,"about:blank"):ve._unload(m.id),t()),m},this.destruct=function(e){me._wD(m.id+": Destruct"),m.isHTML5?(o(),m._a&&(m._a.pause(),re(m._a),qe||r(),m._a._s=null,m._a=null)):(m._iO.onfailure=null,ve._destroySound(m.id)),e||me.destroySound(m.id,!0)},this.play=function(e,t){var n,r,o,u,f,d,p=!0;if(n=m.id+": play(): ",t=t===a||t,e||(e={}),m.url&&(m._iO.url=m.url),m._iO=h(m._iO,m.options),m._iO=h(e,m._iO),m._iO.url=Q(m._iO.url),m.instanceOptions=m._iO,!m.isHTML5&&m._iO.serverURL&&!m.connected)return m.getAutoPlay()||(me._wD(n+" Netstream not connected yet - setting autoPlay"),m.setAutoPlay(!0)),m;if(Z(m._iO)&&(m._setup_html5(m._iO),i()),1===m.playState&&!m.paused){if(!m._iO.multiShot)return me._wD(n+"Already playing (one-shot)",1),m.isHTML5&&m.setPosition(m._iO.position),m;me._wD(n+"Already playing (multi-shot)",1)}if(e.url&&e.url!==m.url&&(m.readyState||m.isHTML5||8!==l||!y?m.load(m._iO):y=!1),m.loaded)me._wD(n.substr(0,n.lastIndexOf(":")));else if(0===m.readyState){if(me._wD(n+"Attempting to load"),m.isHTML5||me.html5Only){if(!m.isHTML5)return me._wD(n+"Unsupported type. Exiting."),m;m.load(m._iO)}else m._iO.autoPlay=!0,m.load(m._iO);m.instanceOptions=m._iO}else{if(2===m.readyState)return me._wD(n+"Could not load - exiting",2),m;me._wD(n+"Loading - attempting to play...")}return!m.isHTML5&&9===l&&m.position>0&&m.position===m.duration&&(me._wD(n+"Sound at end, resetting to position: 0"),e.position=0),m.paused&&m.position>=0&&(!m._iO.serverURL||m.position>0)?(me._wD(n+"Resuming from paused state",1),m.resume()):(m._iO=h(e,m._iO),(!m.isHTML5&&null!==m._iO.position&&m._iO.position>0||null!==m._iO.from&&m._iO.from>0||null!==m._iO.to)&&0===m.instanceCount&&0===m.playState&&!m._iO.serverURL&&(o=function(){m._iO=h(e,m._iO),m.play(m._iO)},m.isHTML5&&!m._html5_canplay?(me._wD(n+"Beginning load for non-zero offset case"),m.load({_oncanplay:o})):m.isHTML5||m.loaded||m.readyState&&2===m.readyState||(me._wD(n+"Preloading for non-zero offset case"),m.load({onload:o})),m._iO=c()),(!m.instanceCount||m._iO.multiShotEvents||m.isHTML5&&m._iO.multiShot&&!qe||!m.isHTML5&&l>8&&!m.getAutoPlay())&&m.instanceCount++,m._iO.onposition&&0===m.playState&&s(m),m.playState=1,m.paused=!1,m.position=m._iO.position===a||isNaN(m._iO.position)?0:m._iO.position,m.isHTML5||(m._iO=z(V(m._iO))),m._iO.onplay&&t&&(m._iO.onplay.apply(m),g=!0),m.setVolume(m._iO.volume,!0),m.setPan(m._iO.pan,!0),1!==m._iO.playbackRate&&m.setPlaybackRate(m._iO.playbackRate),m.isHTML5?m.instanceCount<2?(i(),r=m._setup_html5(),m.setPosition(m._iO.position),r.play()):(me._wD(m.id+": Cloning Audio() for instance #"+m.instanceCount+"..."),u=new Audio(m._iO.url),f=function(){ae.remove(u,"ended",f),m._onfinish(m),re(u),u=null},d=function(){ae.remove(u,"canplay",d);try{u.currentTime=m._iO.position/1e3}catch(e){W(m.id+": multiShot play() failed to apply position of "+m._iO.position/1e3)}u.play()},ae.add(u,"ended",f),m._iO.volume!==a&&(u.volume=Math.max(0,Math.min(1,m._iO.volume/100))),m.muted&&(u.muted=!0),m._iO.position?ae.add(u,"canplay",d):u.play()):(p=ve._start(m.id,m._iO.loops||1,9===l?m.position:m.position/1e3,m._iO.multiShot||!1),9!==l||p||(me._wD(n+"No sound hardware, or 32-sound ceiling hit",2),m._iO.onplayerror&&m._iO.onplayerror.apply(m)))),m},this.start=this.play,this.stop=function(e){var t,n=m._iO;return 1===m.playState&&(me._wD(m.id+": stop()"),m._onbufferchange(0),m._resetOnPosition(0),m.paused=!1,m.isHTML5||(m.playState=0),u(),n.to&&m.clearOnPosition(n.to),m.isHTML5?m._a&&(t=m.position,m.setPosition(0),m.position=t,m._a.pause(),m.playState=0,m._onTimer(),o()):(ve._stop(m.id,e),n.serverURL&&m.unload()),m.instanceCount=0,m._iO={},n.onstop&&n.onstop.apply(m)),m},this.setAutoPlay=function(e){me._wD(m.id+": Autoplay turned "+(e?"on":"off")),m._iO.autoPlay=e,m.isHTML5||(ve._setAutoPlay(m.id,e),e&&(m.instanceCount||1!==m.readyState||(m.instanceCount++,me._wD(m.id+": Incremented instance count to "+m.instanceCount))))},this.getAutoPlay=function(){return m._iO.autoPlay},this.setPlaybackRate=function(e){var t=Math.max(.5,Math.min(4,e));if(t!==e&&me._wD(m.id+": setPlaybackRate("+e+"): limiting rate to "+t,2),m.isHTML5)try{m._iO.playbackRate=t,m._a.playbackRate=t}catch(n){me._wD(m.id+": setPlaybackRate("+t+") failed: "+n.message,2)}return m},this.setPosition=function(e){e===a&&(e=0);var t,n,r=m.isHTML5?Math.max(e,0):Math.min(m.duration||m._iO.duration,Math.max(e,0));if(m.position=r,n=m.position/1e3,m._resetOnPosition(m.position),m._iO.position=r,m.isHTML5){if(m._a){if(m._html5_canplay){if(m._a.currentTime.toFixed(3)!==n.toFixed(3)){me._wD(m.id+": setPosition("+n+")");try{m._a.currentTime=n,(0===m.playState||m.paused)&&m._a.pause()}catch(o){me._wD(m.id+": setPosition("+n+") failed: "+o.message,2)}}}else if(n)return me._wD(m.id+": setPosition("+n+"): Cannot seek yet, sound not ready",2),m;m.paused&&m._onTimer(!0)}}else t=9===l?m.position:n,m.readyState&&2!==m.readyState&&ve._setPosition(m.id,t,m.paused||!m.playState,m._iO.multiShot);return m},this.pause=function(e){return m.paused||0===m.playState&&1!==m.readyState||(me._wD(m.id+": pause()"),m.paused=!0,m.isHTML5?(m._setup_html5().pause(),o()):(e||e===a)&&ve._pause(m.id,m._iO.multiShot),m._iO.onpause&&m._iO.onpause.apply(m)),m},this.resume=function(){var e=m._iO;return m.paused?(me._wD(m.id+": resume()"),m.paused=!1,m.playState=1,m.isHTML5?(m._setup_html5().play(),i()):(e.isMovieStar&&!e.serverURL&&m.setPosition(m.position),ve._pause(m.id,e.multiShot)),!g&&e.onplay?(e.onplay.apply(m),g=!0):e.onresume&&e.onresume.apply(m),m):m},this.togglePause=function(){return me._wD(m.id+": togglePause()"),0===m.playState?(m.play({position:9!==l||m.isHTML5?m.position/1e3:m.position}),m):(m.paused?m.resume():m.pause(),m)},this.setPan=function(e,t){return e===a&&(e=0),t===a&&(t=!1),m.isHTML5||ve._setPan(m.id,e),m._iO.pan=e,t||(m.pan=e,m.options.pan=e),m},this.setVolume=function(e,t){return e===a&&(e=100),t===a&&(t=!1),m.isHTML5?m._a&&(me.muted&&!m.muted&&(m.muted=!0,m._a.muted=!0),m._a.volume=Math.max(0,Math.min(1,e/100))):ve._setVolume(m.id,me.muted&&!m.muted||m.muted?0:e),m._iO.volume=e,t||(m.volume=e,m.options.volume=e),m},this.mute=function(){return m.muted=!0,m.isHTML5?m._a&&(m._a.muted=!0):ve._setVolume(m.id,0),m},this.unmute=function(){m.muted=!1;var e=m._iO.volume!==a;return m.isHTML5?m._a&&(m._a.muted=!1):ve._setVolume(m.id,e?m._iO.volume:m.options.volume),m},this.toggleMute=function(){return m.muted?m.unmute():m.mute()},this.onPosition=function(e,t,n){return v.push({position:parseInt(e,10),method:t,scope:n!==a?n:m,fired:!1}),m},this.onposition=this.onPosition,this.clearOnPosition=function(e,t){var n;if(e=parseInt(e,10),!isNaN(e))for(n=0;n<v.length;n++)e===v[n].position&&(t&&t!==v[n].method||(v[n].fired&&b--,v.splice(n,1)))},this._processOnPosition=function(){var e,t,n=v.length;if(!n||!m.playState||b>=n)return!1;for(e=n-1;e>=0;e--)!(t=v[e]).fired&&m.position>=t.position&&(t.fired=!0,b++,t.method.apply(t.scope,[t.position]),n=v.length);return!0},this._resetOnPosition=function(e){var t,n,r=v.length;if(!r)return!1;for(t=r-1;t>=0;t--)(n=v[t]).fired&&e<=n.position&&(n.fired=!1,b--);return!0},c=function(){var e,t,n=m._iO,r=n.from,o=n.to;return t=function(){me._wD(m.id+': "To" time of '+o+" reached."),m.clearOnPosition(o,t),m.stop()},e=function(){me._wD(m.id+': Playing "from" '+r),null===o||isNaN(o)||m.onPosition(o,t)},null===r||isNaN(r)||(n.position=r,n.multiShot=!1,e()),n},s=function(){var e,t=m._iO.onposition;if(t)for(e in t)t.hasOwnProperty(e)&&m.onPosition(parseInt(e,10),t[e])},u=function(){var e,t=m._iO.onposition;if(t)for(e in t)t.hasOwnProperty(e)&&m.clearOnPosition(parseInt(e,10))},i=function(){m.isHTML5&&G(m)},o=function(){m.isHTML5&&Y(m)},(t=function(e){e||(v=[],b=0),g=!1,m._hasTimer=null,m._a=null,m._html5_canplay=!1,m.bytesLoaded=null,m.bytesTotal=null,m.duration=m._iO&&m._iO.duration?m._iO.duration:null,m.durationEstimate=null,m.buffered=[],m.eqData=[],m.eqData.left=[],m.eqData.right=[],m.failures=0,m.isBuffering=!1,m.instanceOptions={},m.instanceCount=0,m.loaded=!1,m.metadata={},m.readyState=0,m.muted=!1,m.paused=!1,m.peakData={left:0,right:0},m.waveformData={left:[],right:[]},m.playState=0,m.position=null,m.id3={}})(),this._onTimer=function(e){var t,n,r=!1,o={};return(m._hasTimer||e)&&m._a&&(e||(m.playState>0||1===m.readyState)&&!m.paused)&&((t=m._get_html5_duration())!==p.duration&&(p.duration=t,m.duration=t,r=!0),m.durationEstimate=m.duration,(n=1e3*m._a.currentTime||0)!==p.time&&(p.time=n,r=!0),(r||e)&&m._whileplaying(n,o,o,o,o)),r},this._get_html5_duration=function(){var e=m._iO,t=m._a&&m._a.duration?1e3*m._a.duration:e&&e.duration?e.duration:null;return t&&!isNaN(t)&&t!==1/0?t:null},this._apply_loop=function(e,t){!e.loop&&t>1&&me._wD("Note: Native HTML5 looping is infinite.",1),e.loop=t>1?"loop":""},this._setup_html5=function(e){var r,o=h(m._iO,e),i=qe?ge:m._a,a=decodeURI(o.url);if(qe?a===decodeURI(se)&&(r=!0):a===decodeURI(w)&&(r=!0),i){if(i._s)if(qe)i._s&&i._s.playState&&!r&&i._s.stop();else if(!qe&&a===decodeURI(w))return m._apply_loop(i,o.loops),i;r||(w&&t(!1),i.src=o.url,m.url=o.url,w=o.url,se=o.url,i._called_load=!1)}else o.autoLoad||o.autoPlay?(m._a=new Audio(o.url),m._a.load()):m._a=$e&&opera.version()<10?new Audio(null):new Audio,(i=m._a)._called_load=!1,qe&&(ge=i);return m.isHTML5=!0,m._a=i,i._s=m,n(),m._apply_loop(i,o.loops),o.autoLoad||o.autoPlay?m.load():(i.autobuffer=!1,i.preload="auto"),i},n=function(){if(m._a._added_events)return!1;var e,t,n,r;for(e in m._a._added_events=!0,fe)fe.hasOwnProperty(e)&&(t=e,n=fe[e],r=void 0,m._a&&m._a.addEventListener(t,n,r||!1));return!0},r=function(){var e,t,n,r;for(e in me._wD(m.id+": Removing event listeners"),m._a._added_events=!1,fe)fe.hasOwnProperty(e)&&(t=e,n=fe[e],r=void 0,m._a&&m._a.removeEventListener(t,n,r||!1))},this._onload=function(e){var t,n=!!e||!m.isHTML5&&8===l&&m.duration;return t=m.id+": ",me._wD(t+(n?"onload()":"Failed to load / invalid sound?"+(m.duration?" -":" Zero-length duration reported.")+" ("+m.url+")"),n?1:2),n||m.isHTML5||(!0===me.sandbox.noRemote&&me._wD(t+B("noNet"),1),!0===me.sandbox.noLocal&&me._wD(t+B("noLocal"),1)),m.loaded=n,m.readyState=n?3:2,m._onbufferchange(0),n||m.isHTML5||m._onerror(),m._iO.onload&&he(m,(function(){m._iO.onload.apply(m,[n])})),!0},this._onerror=function(e,t){m._iO.onerror&&he(m,(function(){m._iO.onerror.apply(m,[e,t])}))},this._onbufferchange=function(e){return 0!==m.playState&&(!(e&&m.isBuffering||!e&&!m.isBuffering)&&(m.isBuffering=1===e,m._iO.onbufferchange&&(me._wD(m.id+": Buffer state change: "+e),m._iO.onbufferchange.apply(m,[e])),!0))},this._onsuspend=function(){return m._iO.onsuspend&&(me._wD(m.id+": Playback suspended"),m._iO.onsuspend.apply(m)),!0},this._onfailure=function(e,t,n){m.failures++,me._wD(m.id+": Failure ("+m.failures+"): "+e),m._iO.onfailure&&1===m.failures?m._iO.onfailure(e,t,n):me._wD(m.id+": Ignoring failure")},this._onwarning=function(e,t,n){m._iO.onwarning&&m._iO.onwarning(e,t,n)},this._onfinish=function(){var e=m._iO.onfinish;m._onbufferchange(0),m._resetOnPosition(0),m.instanceCount&&(m.instanceCount--,m.instanceCount||(u(),m.playState=0,m.paused=!1,m.instanceCount=0,m.instanceOptions={},m._iO={},o(),m.isHTML5&&(m.position=0)),m.instanceCount&&!m._iO.multiShotEvents||e&&(me._wD(m.id+": onfinish()"),he(m,(function(){e.apply(m)}))))},this._whileloading=function(e,t,n,r){var o=m._iO;m.bytesLoaded=e,m.bytesTotal=t,m.duration=Math.floor(n),m.bufferLength=r,m.isHTML5||o.isMovieStar?m.durationEstimate=m.duration:o.duration?m.durationEstimate=m.duration>o.duration?m.duration:o.duration:m.durationEstimate=parseInt(m.bytesTotal/m.bytesLoaded*m.duration,10),m.isHTML5||(m.buffered=[{start:0,end:m.duration}]),(3!==m.readyState||m.isHTML5)&&o.whileloading&&o.whileloading.apply(m)},this._whileplaying=function(e,t,n,r,o){var i,s=m._iO;return!isNaN(e)&&null!==e&&(m.position=Math.max(0,e),m._processOnPosition(),!m.isHTML5&&l>8&&(s.usePeakData&&t!==a&&t&&(m.peakData={left:t.leftPeak,right:t.rightPeak}),s.useWaveformData&&n!==a&&n&&(m.waveformData={left:n.split(","),right:r.split(",")}),s.useEQData&&o!==a&&o&&o.leftEQ&&(i=o.leftEQ.split(","),m.eqData=i,m.eqData.left=i,o.rightEQ!==a&&o.rightEQ&&(m.eqData.right=o.rightEQ.split(",")))),1===m.playState&&(m.isHTML5||8!==l||m.position||!m.isBuffering||m._onbufferchange(0),s.whileplaying&&s.whileplaying.apply(m)),!0)},this._oncaptiondata=function(e){me._wD(m.id+": Caption data received."),m.captiondata=e,m._iO.oncaptiondata&&m._iO.oncaptiondata.apply(m,[e])},this._onmetadata=function(e,t){me._wD(m.id+": Metadata received.");var n,r,o={};for(n=0,r=e.length;n<r;n++)o[e[n]]=t[n];m.metadata=o,m._iO.onmetadata&&m._iO.onmetadata.call(m,m.metadata)},this._onid3=function(e,t){me._wD(m.id+": ID3 data received.");var n,r,o=[];for(n=0,r=e.length;n<r;n++)o[e[n]]=t[n];m.id3=h(m.id3,o),m._iO.onid3&&m._iO.onid3.apply(m)},this._onconnect=function(e){e=1===e,me._wD(m.id+": "+(e?"Connected.":"Failed to connect? - "+m.url),e?1:2),m.connected=e,e&&(m.failures=0,K(m.id)&&(m.getAutoPlay()?m.play(a,m.getAutoPlay()):m._iO.autoLoad&&m.load()),m._iO.onconnect&&m._iO.onconnect.apply(m,[e]))},this._ondataerror=function(e){m.playState>0&&(me._wD(m.id+": Data error: "+e),m._iO.ondataerror&&m._iO.ondataerror.apply(m))},this._debug()},k=function(){return Se.body||Se.getElementsByTagName("div")[0]},r=function(e){return Se.getElementById(e)},h=function(e,t){var n,r,i=e||{};for(r in n=t===a?me.defaultOptions:t)n.hasOwnProperty(r)&&i[r]===a&&("object"!==o(n[r])||null===n[r]?i[r]=n[r]:i[r]=h(i[r],n[r]));return i},he=function(e,t){e.isHTML5||8!==l?t():i.setTimeout(t,0)},m={onready:1,ontimeout:1,defaultOptions:1,flash9Options:1,movieStarOptions:1},y=function(e,t){var n,r=!0,i=t!==a,s=me.setupOptions,u=m;if(e===a){for(n in r=[],s)s.hasOwnProperty(n)&&r.push(n);for(n in u)u.hasOwnProperty(n)&&("object"===o(me[n])?r.push(n+": {...}"):me[n]instanceof Function?r.push(n+": function() {...}"):r.push(n));return me._wD(B("setup",r.join(", "))),!1}for(n in e)if(e.hasOwnProperty(n))if("object"!==o(e[n])||null===e[n]||e[n]instanceof Array||e[n]instanceof RegExp)i&&u[t]!==a?me[t][n]=e[n]:s[n]!==a?(me.setupOptions[n]=e[n],me[n]=e[n]):u[n]===a?(W(B(me[n]===a?"setupUndef":"setupError",n),2),r=!1):me[n]instanceof Function?me[n].apply(me,e[n]instanceof Array?e[n]:[e[n]]):me[n]=e[n];else{if(u[n]!==a)return y(e[n],n);W(B(me[n]===a?"setupUndef":"setupError",n),2),r=!1}return r},ae=function(){var e=i.attachEvent,t={add:e?"attachEvent":"addEventListener",remove:e?"detachEvent":"removeEventListener"};function n(t){var n=He.call(t),r=n.length;return e?(n[1]="on"+n[1],r>3&&n.pop()):3===r&&n.push(!1),n}function r(n,r){var o=n.shift(),i=[t[r]];e?o[i](n[0],n[1]):o[i].apply(o,n)}return{add:function(){r(n(arguments),"add")},remove:function(){r(n(arguments),"remove")}}}(),fe={abort:ct((function(){me._wD(this._s.id+": abort")})),canplay:ct((function(){var e,t=this._s;if(!t._html5_canplay){if(t._html5_canplay=!0,me._wD(t.id+": canplay"),t._onbufferchange(0),e=t._iO.position===a||isNaN(t._iO.position)?null:t._iO.position/1e3,this.currentTime!==e){me._wD(t.id+": canplay: Setting position to "+e);try{this.currentTime=e}catch(n){me._wD(t.id+": canplay: Setting position of "+e+" failed: "+n.message,2)}}t._iO._oncanplay&&t._iO._oncanplay()}})),canplaythrough:ct((function(){var e=this._s;e.loaded||(e._onbufferchange(0),e._whileloading(e.bytesLoaded,e.bytesTotal,e._get_html5_duration()),e._onload(!0))})),durationchange:ct((function(){var e,t=this._s;e=t._get_html5_duration(),isNaN(e)||e===t.duration||(me._wD(this._s.id+": durationchange ("+e+")"+(t.duration?", previously "+t.duration:"")),t.durationEstimate=t.duration=e)})),ended:ct((function(){var e=this._s;me._wD(e.id+": ended"),e._onfinish()})),error:ct((function(){var e=te[this.error.code]||null;me._wD(this._s.id+": HTML5 error, code "+this.error.code+(e?" ("+e+")":"")),this._s._onload(!1),this._s._onerror(this.error.code,e)})),loadeddata:ct((function(){var e=this._s;me._wD(e.id+": loadeddata"),e._loaded||Ye||(e.duration=e._get_html5_duration())})),loadedmetadata:ct((function(){me._wD(this._s.id+": loadedmetadata")})),loadstart:ct((function(){me._wD(this._s.id+": loadstart"),this._s._onbufferchange(1)})),play:ct((function(){this._s._onbufferchange(0)})),playing:ct((function(){me._wD(this._s.id+": playing "+String.fromCharCode(9835)),this._s._onbufferchange(0)})),progress:ct((function(e){var t,n,r,o=this._s,i=0,a="progress"===e.type,s=e.target.buffered,u=e.loaded||0,c=e.total||1;if(o.buffered=[],s&&s.length){for(t=0,n=s.length;t<n;t++)o.buffered.push({start:1e3*s.start(t),end:1e3*s.end(t)});if(i=1e3*(s.end(0)-s.start(0)),u=Math.min(1,i/(1e3*e.target.duration)),a&&s.length>1){for(r=[],n=s.length,t=0;t<n;t++)r.push(1e3*e.target.buffered.start(t)+"-"+1e3*e.target.buffered.end(t));me._wD(this._s.id+": progress, timeRanges: "+r.join(", "))}a&&!isNaN(u)&&me._wD(this._s.id+": progress, "+Math.floor(100*u)+"% loaded")}isNaN(u)||(o._whileloading(u,c,o._get_html5_duration()),u&&c&&u===c&&fe.canplaythrough.call(this,e))})),ratechange:ct((function(){me._wD(this._s.id+": ratechange")})),suspend:ct((function(e){var t=this._s;me._wD(this._s.id+": suspend"),fe.progress.call(this,e),t._onsuspend()})),stalled:ct((function(){me._wD(this._s.id+": stalled")})),timeupdate:ct((function(){this._s._onTimer()})),waiting:ct((function(){var e=this._s;me._wD(this._s.id+": waiting"),e._onbufferchange(1)}))},Z=function(e){return!(!e||!(e.type||e.url||e.serverURL))&&(!(e.serverURL||e.type&&ut(e.type))&&(e.type?ee({type:e.type}):ee({url:e.url})||me.html5Only||e.url.match(/data:/i)))},re=function(e){var t;return e&&(t=Ye?"about:blank":me.html5.canPlayType("audio/wav")?"data:audio/wave;base64,/UklGRiYAAABXQVZFZm10IBAAAAABAAEARKwAAIhYAQACABAAZGF0YQIAAAD//w==":"about:blank",e.src=t,e._called_unload!==a&&(e._called_load=!1)),qe&&(se=null),t},ee=function(e){if(!me.useHTML5Audio||!me.hasHTML5)return!1;var t,n,r,o,i=e.url||null,s=e.type||null,u=me.audioFormats;if(s&&me.html5[s]!==a)return me.html5[s]&&!ut(s);if(!ne){for(o in ne=[],u)u.hasOwnProperty(o)&&(ne.push(o),u[o].related&&(ne=ne.concat(u[o].related)));ne=new RegExp("\\.("+ne.join("|")+")(\\?.*)?$","i")}return(r=i?i.toLowerCase().match(ne):null)&&r.length?r=r[1]:s?r=(-1!==(n=s.indexOf(";"))?s.substr(0,n):s).substr(6):t=!1,r&&me.html5[r]!==a?t=me.html5[r]&&!ut(r):(s="audio/"+r,t=me.html5.canPlayType({type:s}),me.html5[r]=t,t=t&&me.html5[s]&&!ut(s)),t},ie=function(){if(!me.useHTML5Audio||!me.hasHTML5)return me.html5.usingFlash=!0,Ue=!0,!1;var e,t,n,r,o=Audio!==a?$e&&opera.version()<10?new Audio(null):new Audio:null,i={};function s(e){var t,n,i=!1,a=!1;if(!o||"function"!==typeof o.canPlayType)return i;if(e instanceof Array){for(r=0,n=e.length;r<n;r++)(me.html5[e[r]]||o.canPlayType(e[r]).match(me.html5Test))&&(a=!0,me.html5[e[r]]=!0,me.flash[e[r]]=!!e[r].match(nt));i=a}else i=!(!(t=!(!o||"function"!==typeof o.canPlayType)&&o.canPlayType(e))||!t.match(me.html5Test));return i}for(e in n=me.audioFormats)if(n.hasOwnProperty(e)&&(t="audio/"+e,i[e]=s(n[e].type),i[t]=i[e],e.match(nt)?(me.flash[e]=!0,me.flash[t]=!0):(me.flash[e]=!1,me.flash[t]=!1),n[e]&&n[e].related))for(r=n[e].related.length-1;r>=0;r--)i["audio/"+n[e].related[r]]=i[e],me.html5[n[e].related[r]]=i[e],me.flash[n[e].related[r]]=i[e];return i.canPlayType=o?s:null,me.html5=h(me.html5,i),me.html5.usingFlash=J(),Ue=me.html5.usingFlash,!0},P={notReady:"Unavailable - wait until onready() has fired.",notOK:"Audio support is not available.",domError:be+"exception caught while appending SWF to DOM.",spcWmode:"Removing wmode, preventing known SWF loading issue(s)",swf404:we+"Verify that %s is a valid path.",tryDebug:"Try "+be+".debugFlash = true for more security details (output goes to SWF.)",checkSWF:"See SWF output for more debug info.",localFail:we+"Non-HTTP page ("+Se.location.protocol+" URL?) Review Flash player security settings for this special case:\nhttp://www.macromedia.com/support/documentation/en/flashplayer/help/settings_manager04.html\nMay need to add/allow path, eg. c:/sm2/ or /users/me/sm2/",waitFocus:we+"Special case: Waiting for SWF to load with window focus...",waitForever:we+"Waiting indefinitely for Flash (will recover if unblocked)...",waitSWF:we+"Waiting for 100% SWF load...",needFunction:we+"Function object expected for %s",badID:'Sound ID "%s" should be a string, starting with a non-numeric character',currentObj:we+"_debug(): Current sound objects",waitOnload:we+"Waiting for window.onload()",docLoaded:we+"Document already loaded",onload:we+"initComplete(): calling soundManager.onload()",onloadOK:be+".onload() complete",didInit:we+"init(): Already called?",secNote:"Flash security note: Network/internet URLs will not load due to security restrictions. Access can be configured via Flash Player Global Security Settings Page: http://www.macromedia.com/support/documentation/en/flashplayer/help/settings_manager04.html",badRemove:we+"Failed to remove Flash node.",shutdown:be+".disable(): Shutting down",queue:we+"Queueing %s handler",smError:"SMSound.load(): Exception: JS-Flash communication failed, or JS error.",fbTimeout:"No flash response, applying ."+H.swfTimedout+" CSS...",fbLoaded:"Flash loaded",fbHandler:we+"flashBlockHandler()",manURL:"SMSound.load(): Using manually-assigned URL",onURL:be+".load(): current URL already assigned.",badFV:be+'.flashVersion must be 8 or 9. "%s" is invalid. Reverting to %s.',as2loop:"Note: Setting stream:false so looping can work (flash 8 limitation)",noNSLoop:"Note: Looping not implemented for MovieStar formats",needfl9:"Note: Switching to flash 9, required for MP4 formats.",mfTimeout:"Setting flashLoadTimeout = 0 (infinite) for off-screen, mobile flash case",needFlash:we+"Fatal error: Flash is needed to play some required formats, but is not available.",gotFocus:we+"Got window focus.",policy:"Enabling usePolicyFile for data access",setup:be+".setup(): allowed parameters: %s",setupError:be+'.setup(): "%s" cannot be assigned with this method.',setupUndef:be+'.setup(): Could not find option "%s"',setupLate:be+".setup(): url, flashVersion and html5Test property changes will not take effect until reboot().",noURL:we+"Flash URL required. Call soundManager.setup({url:...}) to get started.",sm2Loaded:"SoundManager 2: Ready. "+String.fromCharCode(10003),reset:be+".reset(): Removing event callbacks",mobileUA:"Mobile UA detected, preferring HTML5 by default.",globalHTML5:"Using singleton HTML5 Audio() pattern for this device.",ignoreMobile:"Ignoring mobile restrictions for this device."},B=function(){var e,t,n,r,o;if(r=(e=He.call(arguments)).shift(),(o=P&&P[r]?P[r]:"")&&e&&e.length)for(t=0,n=e.length;t<n;t++)o=o.replace("%s",e[t]);return o},V=function(e){return 8===l&&e.loops>1&&e.stream&&(d("as2loop"),e.stream=!1),e},z=function(e,t){return e&&!e.usePolicyFile&&(e.onid3||e.usePeakData||e.useWaveformData||e.useEQData)&&(me._wD((t||"")+B("policy")),e.usePolicyFile=!0),e},W=function(e){Je&&console.warn!==a?console.warn(e):me._wD(e)},s=function(){return!1},I=function(e){var t;for(t in e)e.hasOwnProperty(t)&&"function"===typeof e[t]&&(e[t]=s);t=null},x=function(e){e===a&&(e=!1),(Ae||e)&&me.disable(e)},F=function(e){var t;if(e)if(e.match(/\.swf(\?.*)?$/i)){if(e.substr(e.toLowerCase().lastIndexOf(".swf?")+4))return e}else e.lastIndexOf("/")!==e.length-1&&(e+="/");return t=(e&&-1!==e.lastIndexOf("/")?e.substr(0,e.lastIndexOf("/")+1):"./")+me.movieURL,me.noSWFCache&&(t+="?ts="+(new Date).getTime()),t},S=function(){8!==(l=parseInt(me.flashVersion,10))&&9!==l&&(me._wD(B("badFV",l,8)),me.flashVersion=l=8);var e=me.debugMode||me.debugFlash?"_debug.swf":".swf";me.useHTML5Audio&&!me.html5Only&&me.audioFormats.mp4.required&&l<9&&(me._wD(B("needfl9")),me.flashVersion=l=9),me.version=me.versionNumber+(me.html5Only?" (HTML5-only mode)":9===l?" (AS3/Flash 9)":" (AS2/Flash 8)"),l>8?(me.defaultOptions=h(me.defaultOptions,me.flash9Options),me.features.buffering=!0,me.defaultOptions=h(me.defaultOptions,me.movieStarOptions),me.filePatterns.flash9=new RegExp("\\.(mp3|"+at.join("|")+")(\\?.*)?$","i"),me.features.movieStar=!0):me.features.movieStar=!1,me.filePattern=me.filePatterns[8!==l?"flash9":"flash8"],me.movieURL=(8===l?"soundmanager2.swf":"soundmanager2_flash9.swf").replace(".swf",e),me.features.peakData=me.features.waveformData=me.features.eqData=l>8},R=function(e,t){ve&&ve._setPolling(e,t)},C=function(){if(me.debugURLParam.test(Oe)&&(me.setupOptions.debugMode=me.debugMode=!0),!r(me.debugID)){var e,t,n,o,i;if(me.debugMode&&!r(me.debugID)&&(!Je||!me.useConsole||!me.consoleOnly)){for(i in(e=Se.createElement("div")).id=me.debugID+"-toggle",o={position:"fixed",bottom:"0px",right:"0px",width:"1.2em",height:"1.2em",lineHeight:"1.2em",margin:"2px",textAlign:"center",border:"1px solid #999",cursor:"pointer",background:"#fff",color:"#333",zIndex:10001},e.appendChild(Se.createTextNode("-")),e.onclick=q,e.title="Toggle SM2 debug console",_e.match(/msie 6/i)&&(e.style.position="absolute",e.style.cursor="hand"),o)o.hasOwnProperty(i)&&(e.style[i]=o[i]);if((t=Se.createElement("div")).id=me.debugID,t.style.display=me.debugMode?"block":"none",me.debugMode&&!r(e.id)){try{(n=k()).appendChild(e)}catch(a){throw new Error(B("domError")+" \n"+a.toString())}n.appendChild(t)}}n=null}},K=this.getSoundById,d=function(e,t){return e?me._wD(B(e),t):""},q=function(){var e=r(me.debugID),t=r(me.debugID+"-toggle");e&&(Pe?(t.innerHTML="+",e.style.display="none"):(t.innerHTML="-",e.style.display="block"),Pe=!Pe)},f=function(e,t,n){if(i.sm2Debugger!==a)try{sm2Debugger.handleEvent(e,t,n)}catch(r){return!1}return!0},U=function(){var e=[];return me.debugMode&&e.push(H.sm2Debug),me.debugFlash&&e.push(H.flashDebug),me.useHighPerformance&&e.push(H.highPerf),e.join(" ")},N=function(){var e=B("fbHandler"),t=me.getMoviePercent(),n=H,r={type:"FLASHBLOCK"};me.html5Only||(me.ok()?(me.didFlashBlock&&me._wD(e+": Unblocked"),me.oMC&&(me.oMC.className=[U(),n.swfDefault,n.swfLoaded+(me.didFlashBlock?" "+n.swfUnblocked:"")].join(" "))):(Ue&&(me.oMC.className=U()+" "+n.swfDefault+" "+(null===t?n.swfTimedout:n.swfError),me._wD(e+": "+B("fbTimeout")+(t?" ("+B("fbLoaded")+")":""))),me.didFlashBlock=!0,v({type:"ontimeout",ignoreInit:!0,error:r}),j(r)))},g=function(e,t,n){Ee[e]===a&&(Ee[e]=[]),Ee[e].push({method:t,scope:n||null,fired:!1})},v=function(e){if(e||(e={type:me.ok()?"onready":"ontimeout"}),!Le&&e&&!e.ignoreInit)return!1;if("ontimeout"===e.type&&(me.ok()||Ae&&!e.ignoreInit))return!1;var t,n,r={success:e&&e.ignoreInit?me.ok():!Ae},o=e&&e.type&&Ee[e.type]||[],i=[],a=[r],s=Ue&&!me.ok();for(e.error&&(a[0].error=e.error),t=0,n=o.length;t<n;t++)!0!==o[t].fired&&i.push(o[t]);if(i.length)for(t=0,n=i.length;t<n;t++)i[t].scope?i[t].method.apply(i[t].scope,a):i[t].method.apply(this,a),s||(i[t].fired=!0);return!0},b=function(){i.setTimeout((function(){me.useFlashBlock&&N(),v(),"function"===typeof me.onload&&(d("onload",1),me.onload.apply(i),d("onloadOK",1)),me.waitForWindowLoad&&ae.add(i,"load",b)}),1)},ce=function(){if(ue!==a)return ue;var e,t,n,r,o=!1,s=navigator,u=i.ActiveXObject;try{r=s.plugins}catch(c){r=void 0}if(r&&r.length)t="application/x-shockwave-flash",(n=s.mimeTypes)&&n[t]&&n[t].enabledPlugin&&n[t].enabledPlugin.description&&(o=!0);else if(u!==a&&!_e.match(/MSAppHost/i)){try{e=new u("ShockwaveFlash.ShockwaveFlash")}catch(c){e=null}o=!!e,e=null}return ue=o,o},J=function(){var e,t,n=me.audioFormats;if(ze&&!!_e.match(/os (1|2|3_0|3_1)\s/i)?(me.hasHTML5=!1,me.html5Only=!0,me.oMC&&(me.oMC.style.display="none")):me.useHTML5Audio&&(me.html5&&me.html5.canPlayType||(me._wD("SoundManager: No HTML5 Audio() support detected."),me.hasHTML5=!1),Xe&&me._wD(we+"Note: Buggy HTML5 Audio in Safari on this OS X release, see https://bugs.webkit.org/show_bug.cgi?id=32159 - "+(ue?"will use flash fallback for MP3/MP4, if available":" would use flash fallback for MP3/MP4, but none detected."),1)),me.useHTML5Audio&&me.hasHTML5)for(t in X=!0,n)n.hasOwnProperty(t)&&n[t].required&&(me.html5.canPlayType(n[t].type)?me.preferFlash&&(me.flash[t]||me.flash[n[t].type])&&(e=!0):(X=!1,e=!0));return me.ignoreFlash&&(e=!1,X=!0),me.html5Only=me.hasHTML5&&me.useHTML5Audio&&!e,!me.html5Only},Q=function(e){var t,n,r,o=0;if(e instanceof Array){for(t=0,n=e.length;t<n;t++)if(e[t]instanceof Object){if(me.canPlayMIME(e[t].type)){o=t;break}}else if(me.canPlayURL(e[t])){o=t;break}e[o].url&&(e[o]=e[o].url),r=e[o]}else r=e;return r},G=function(e){e._hasTimer||(e._hasTimer=!0,!Qe&&me.html5PollingInterval&&(null===Be&&0===Fe&&(Be=setInterval($,me.html5PollingInterval)),Fe++))},Y=function(e){e._hasTimer&&(e._hasTimer=!1,!Qe&&me.html5PollingInterval&&Fe--)},$=function(){var e;if(null!==Be&&!Fe)return clearInterval(Be),void(Be=null);for(e=me.soundIDs.length-1;e>=0;e--)me.sounds[me.soundIDs[e]].isHTML5&&me.sounds[me.soundIDs[e]]._hasTimer&&me.sounds[me.soundIDs[e]]._onTimer()},j=function(e){e=e!==a?e:{},"function"===typeof me.onerror&&me.onerror.apply(i,[{type:e.type!==a?e.type:null}]),e.fatal!==a&&e.fatal&&me.disable()},le=function(){if(Xe&&ce()){var e,t,n=me.audioFormats;for(t in n)if(n.hasOwnProperty(t)&&("mp3"===t||"mp4"===t)&&(me._wD(be+": Using flash fallback for "+t+" format"),me.html5[t]=!1,n[t]&&n[t].related))for(e=n[t].related.length-1;e>=0;e--)me.html5[n[t].related[e]]=!1}},this._setSandboxType=function(e){var t=me.sandbox;t.type=e,t.description=t.types[t.types[e]!==a?e:"unknown"],"localWithFile"===t.type?(t.noRemote=!0,t.noLocal=!1,d("secNote",2)):"localWithNetwork"===t.type?(t.noRemote=!1,t.noLocal=!0):"localTrusted"===t.type&&(t.noRemote=!1,t.noLocal=!1)},this._externalInterfaceOK=function(e){if(!me.swfLoaded){var t;if(f("swf",!0),f("flashtojs",!0),me.swfLoaded=!0,et=!1,Xe&&le(),!e||e.replace(/\+dev/i,"")!==me.versionNumber.replace(/\+dev/i,""))return t=be+': Fatal: JavaScript file build "'+me.versionNumber+'" does not match Flash SWF build "'+e+'" at '+me.url+". Ensure both are up-to-date.",void setTimeout((function(){throw new Error(t)}),0);setTimeout(c,Ke?100:1)}},D=function(e,t){if(Te&&Me)return!1;function n(){var e,t=[],n=[];e="SoundManager "+me.version+(!me.html5Only&&me.useHTML5Audio?me.hasHTML5?" + HTML5 audio":", no HTML5 audio support":""),me.html5Only?me.html5PollingInterval&&t.push("html5PollingInterval ("+me.html5PollingInterval+"ms)"):(me.preferFlash&&t.push("preferFlash"),me.useHighPerformance&&t.push("useHighPerformance"),me.flashPollingInterval&&t.push("flashPollingInterval ("+me.flashPollingInterval+"ms)"),me.html5PollingInterval&&t.push("html5PollingInterval ("+me.html5PollingInterval+"ms)"),me.wmode&&t.push("wmode ("+me.wmode+")"),me.debugFlash&&t.push("debugFlash"),me.useFlashBlock&&t.push("flashBlock")),t.length&&(n=n.concat([t.join(" + ")])),me._wD(e+(n.length?" + "+n.join(", "):""),1),de()}if(me.html5Only)return S(),n(),me.oMC=r(me.movieID),c(),Te=!0,Me=!0,!1;var o,i,s,u,l,f,d,p,h,y=t||me.url,m=me.altURL||y,g=k(),v=U(),b=Se.getElementsByTagName("html")[0];function w(e,t){return'<param name="'+e+'" value="'+t+'" />'}if(o=b&&b.dir&&b.dir.match(/rtl/i),e=e===a?me.id:e,S(),me.url=F(rt?y:m),t=me.url,me.wmode=!me.wmode&&me.useHighPerformance?"transparent":me.wmode,null!==me.wmode&&(_e.match(/msie 8/i)||!Ke&&!me.useHighPerformance)&&navigator.platform.match(/win32|win64/i)&&(Ne.push(P.spcWmode),me.wmode=null),i={name:e,id:e,src:t,quality:"high",allowScriptAccess:me.allowScriptAccess,bgcolor:me.bgColor,pluginspage:ot+"www.macromedia.com/go/getflashplayer",title:"JS/Flash audio component (SoundManager 2)",type:"application/x-shockwave-flash",wmode:me.wmode,hasPriority:"true"},me.debugFlash&&(i.FlashVars="debug=1"),me.wmode||delete i.wmode,Ke)s=Se.createElement("div"),l=['<object id="'+e+'" data="'+t+'" type="'+i.type+'" title="'+i.title+'" classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" codebase="http://download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=6,0,40,0">',w("movie",t),w("AllowScriptAccess",me.allowScriptAccess),w("quality",i.quality),me.wmode?w("wmode",me.wmode):"",w("bgcolor",me.bgColor),w("hasPriority","true"),me.debugFlash?w("FlashVars",i.FlashVars):"","</object>"].join("");else for(u in s=Se.createElement("embed"),i)i.hasOwnProperty(u)&&s.setAttribute(u,i[u]);if(C(),v=U(),g=k())if(me.oMC=r(me.movieID)||Se.createElement("div"),me.oMC.id)h=me.oMC.className,me.oMC.className=(h?h+" ":H.swfDefault)+(v?" "+v:""),me.oMC.appendChild(s),Ke&&((f=me.oMC.appendChild(Se.createElement("div"))).className=H.swfBox,f.innerHTML=l),Me=!0;else{if(me.oMC.id=me.movieID,me.oMC.className=H.swfDefault+" "+v,d=null,f=null,me.useFlashBlock||(me.useHighPerformance?d={position:"fixed",width:"8px",height:"8px",bottom:"0px",left:"0px",overflow:"hidden"}:(d={position:"absolute",width:"6px",height:"6px",top:"-9999px",left:"-9999px"},o&&(d.left=Math.abs(parseInt(d.left,10))+"px"))),Ge&&(me.oMC.style.zIndex=1e4),!me.debugFlash)for(p in d)d.hasOwnProperty(p)&&(me.oMC.style[p]=d[p]);try{Ke||me.oMC.appendChild(s),g.appendChild(me.oMC),Ke&&((f=me.oMC.appendChild(Se.createElement("div"))).className=H.swfBox,f.innerHTML=l),Me=!0}catch(_){throw new Error(B("domError")+" \n"+_.toString())}}return Te=!0,n(),!0},T=function(){return me.html5Only?(D(),!1):!ve&&(me.url?((ve=me.getMovie(me.id))||(Re?(Ke?me.oMC.innerHTML=Ce:me.oMC.appendChild(Re),Re=null,Te=!0):D(me.id,me.url),ve=me.getMovie(me.id)),"function"===typeof me.oninitmovie&&setTimeout(me.oninitmovie,1),pe(),!0):(d("noURL"),!1))},w=function(){setTimeout(_,1e3)},O=function(){i.setTimeout((function(){W(we+"useFlashBlock is false, 100% HTML5 mode is possible. Rebooting with preferFlash: false..."),me.setup({preferFlash:!1}).reboot(),me.didFlashBlock=!0,me.beginDelayedInit()}),1)},_=function(){var e,t=!1;me.url&&(Ie||(Ie=!0,ae.remove(i,"load",w),ue&&et&&!Ze?d("waitFocus"):(Le||(e=me.getMoviePercent())>0&&e<100&&(t=!0),setTimeout((function(){if(e=me.getMoviePercent(),t)return Ie=!1,me._wD(B("waitSWF")),void i.setTimeout(w,1);Le||(me._wD(be+": No Flash response within expected time. Likely causes: "+(0===e?"SWF load failed, ":"")+"Flash blocked or JS-Flash security error."+(me.debugFlash?" "+B("checkSWF"):""),2),!rt&&e&&(d("localFail",2),me.debugFlash||d("tryDebug",2)),0===e&&me._wD(B("swf404",me.url),1),f("flashtojs",!1,": Timed out"+(rt?" (Check flash security or flash blockers)":" (No plugin/missing SWF?)"))),!Le&&tt&&(null===e?me.useFlashBlock||0===me.flashLoadTimeout?(me.useFlashBlock&&N(),d("waitForever")):!me.useFlashBlock&&X?O():(d("waitForever"),v({type:"ontimeout",ignoreInit:!0,error:{type:"INIT_FLASHBLOCK"}})):0===me.flashLoadTimeout?d("waitForever"):!me.useFlashBlock&&X?O():x(!0))}),me.flashLoadTimeout))))},E=function(){function e(){ae.remove(i,"focus",E)}return Ze||!et?(e(),!0):(tt=!0,Ze=!0,d("gotFocus"),Ie=!1,w(),e(),!0)},pe=function(){Ne.length&&(me._wD("SoundManager 2: "+Ne.join(" "),1),Ne=[])},de=function(){pe();var e,t=[];if(me.useHTML5Audio&&me.hasHTML5){for(e in me.audioFormats)me.audioFormats.hasOwnProperty(e)&&t.push(e+" = "+me.html5[e]+(!me.html5[e]&&Ue&&me.flash[e]?" (using flash)":me.preferFlash&&me.flash[e]&&Ue?" (preferring flash)":me.html5[e]?"":" ("+(me.audioFormats[e].required?"required, ":"")+"and no flash support)"));me._wD("SoundManager 2 HTML5 support: "+t.join(", "),1)}},p=function(e){if(Le)return!1;if(me.html5Only)return d("sm2Loaded",1),Le=!0,b(),f("onload",!0),!0;var t,n=!0;return me.useFlashBlock&&me.flashLoadTimeout&&!me.getMoviePercent()||(Le=!0),t={type:!ue&&Ue?"NO_FLASH":"INIT_TIMEOUT"},me._wD("SoundManager 2 "+(Ae?"failed to load":"loaded")+" ("+(Ae?"Flash security/load error":"OK")+") "+String.fromCharCode(Ae?10006:10003),Ae?2:1),Ae||e?(me.useFlashBlock&&me.oMC&&(me.oMC.className=U()+" "+(null===me.getMoviePercent()?H.swfTimedout:H.swfError)),v({type:"ontimeout",error:t,ignoreInit:!0}),f("onload",!1),j(t),n=!1):f("onload",!0),Ae||(me.waitForWindowLoad&&!ke?(d("waitOnload"),ae.add(i,"load",b)):(me.waitForWindowLoad&&ke&&d("docLoaded"),b())),n},u=function(){var e,t=me.setupOptions;for(e in t)t.hasOwnProperty(e)&&(me[e]===a?me[e]=t[e]:me[e]!==t[e]&&(me.setupOptions[e]=me[e]))},c=function(){if(Le)return d("didInit"),!1;function e(){ae.remove(i,"load",me.beginDelayedInit)}if(me.html5Only)return Le||(e(),me.enabled=!0,p()),!0;T();try{ve._externalInterfaceTest(!1),R(!0,me.flashPollingInterval||(me.useHighPerformance?10:50)),me.debugMode||ve._disableDebug(),me.enabled=!0,f("jstoflash",!0),me.html5Only||ae.add(i,"unload",s)}catch(t){return me._wD("js/flash exception: "+t.toString()),f("jstoflash",!1),j({type:"JS_TO_FLASH_EXCEPTION",fatal:!0}),x(!0),p(),!1}return p(),e(),!0},M=function(){return!A&&(A=!0,u(),C(),!ue&&me.hasHTML5&&(me._wD("SoundManager 2: No Flash detected"+(me.useHTML5Audio?". Trying HTML5-only mode.":", enabling HTML5."),1),me.setup({useHTML5Audio:!0,preferFlash:!1})),ie(),!ue&&Ue&&(Ne.push(P.needFlash),me.setup({flashLoadTimeout:1})),Se.removeEventListener&&Se.removeEventListener("DOMContentLoaded",M,!1),T(),!0)},oe=function(){return"complete"===Se.readyState&&(M(),Se.detachEvent("onreadystatechange",oe)),!0},L=function(){ke=!0,M(),ae.remove(i,"load",L)},ce(),ae.add(i,"focus",E),ae.add(i,"load",w),ae.add(i,"load",L),Se.addEventListener?Se.addEventListener("DOMContentLoaded",M,!1):Se.attachEvent?Se.attachEvent("onreadystatechange",oe):(f("onload",!1),j({type:"NO_DOM2_EVENTS",fatal:!0}))}i.SM2_DEFER!==a&&SM2_DEFER||(s=new u),"object"===o(e)&&e&&"object"===o(e.exports)?(e.exports.SoundManager=u,e.exports.soundManager=s):void 0===(r=function(){return{constructor:u,getInstance:function(e){if(!i.soundManager&&e instanceof Function){var t=e(u);t instanceof u&&(i.soundManager=t)}return i.soundManager}}}.call(t,n,t,e))||(e.exports=r),i.SoundManager=u,i.soundManager=s}(window)}).call(this,n(9)(e))},32:function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var r=n(0),o=(n(3),n(2));function i(e){return function(e){if(Array.isArray(e))return a(e)}(e)||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return a(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function l(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=d(e);if(t){var o=d(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return f(this,n)}}function f(e,t){return!t||"object"!==typeof t&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}window.captchaIsLoading=!1,window.captchaIsReady=!1;var p=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(f,e);var t,n,r,a=l(f);function f(){var e;s(this,f);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=a.call.apply(a,[this].concat(n))).$=document.querySelector.bind(e.element),e.$$=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.element;return i(n.querySelectorAll(t))},e}return t=f,(n=[{key:"connect",value:function(){var e=this;if(!this.inWysiwig){this.token=document.createElement("input"),this.token.setAttribute("type","hidden"),this.token.setAttribute("name","recaptcha_token"),this.element.appendChild(this.token),this.tokenAge=0,this.loadCaptchaJS(this.element,this),this.element.addEventListener("focusin",(function(){e.toggleBadge(!0)})),this.element.addEventListener("focusout",(function(){e.toggleBadge(!1)}));var t=this.scoreBeforeSubmit.bind(this);this.$$("button,input[type=submit]").forEach((function(e){e.addEventListener("click",t)}))}}},{key:"reloadImage",value:function(e){e.preventDefault();var t=e.target.parentElement.parentElement.parentElement;return window.fetch("/captcha/new",{method:"GET",headers:{"Content-Type":"text/html","X-Requested-With":"XMLHttpRequest","X-CSRF-Token":Object(o.a)()},credentials:"same-origin"}).then((function(e){return e.text()})).then((function(e){t.innerHTML=e}))}},{key:"toggleBadge",value:function(e){var t=document.querySelector(".grecaptcha-badge");t&&(e?t.classList.add("active"):t.classList.remove("active"))}},{key:"loadCaptchaJS",value:function(e,t){var n=this;if(!t.captchaIsLoaded)if(window.captchaIsLoading)setTimeout((function(){return n.loadCaptchaJS(e,t)}),500);else{window.captchaIsLoading=!0;var r=e.dataset.sitekey,o=document.createElement("script");o.type="text/javascript",o.async=!0,o.id="recaptcha-js",o.src="https://www.google.com/recaptcha/api.js?render=".concat(r),o.onload=function(){window.captchaIsReady=!0};var i=document.getElementsByTagName("script")[0];i.parentNode.insertBefore(o,i)}}},{key:"scoreBeforeSubmit",value:function(e){var t=this;return!!(this.token.value&&this.tokenAge>=Date.now()-12e4)||(grecaptcha?(e.preventDefault(),e.stopImmediatePropagation(),grecaptcha.execute(this.element.dataset.sitekey,{action:"form"}).then((function(n){t.token.setAttribute("value",n),t.tokenAge=Date.now(),e.target.click()}),(function(n){console.log("recaptcha error:",n),t.token.setAttribute("value","none"),e.target.click()})),!1):(console.log("no recaptcha, lets jet"),!0))}},{key:"inWysiwig",get:function(){return document.querySelectorAll(".wysiwyg").length>0}},{key:"captchaIsLoaded",get:function(){return"undefined"!==typeof grecaptcha}}])&&u(t.prototype,n),r&&u(t,r),f}(r.b)},343:function(e,t,n){"use strict";n.r(t);var r=n(0),o=n(4),i=r.a.start(),a=n(286);i.load(Object(o.a)(a));n(108)},4:function(e,t,n){"use strict";function r(e){return e.keys().map((function(t){return function(e,t){var n=function(e){var t=(e.match(/^(?:\.\/)?(.+)(?:[_-]controller\..+?)$/)||[])[1];if(t)return t.replace(/_/g,"-").replace(/\//g,"--")}(t);if(n)return function(e,t){var n=e.default;if("function"==typeof n)return{identifier:t,controllerConstructor:n}}(e(t),n)}(e,t)})).filter((function(e){return e}))}n.d(t,"a",(function(){return r}))},61:function(e,t){window.SM2_DEFER=!0},73:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t){return(i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function a(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=u(e);if(t){var o=u(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return s(this,n)}}function s(e,t){return!t||"object"!==typeof t&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}n.d(t,"a",(function(){return c}));var c=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&i(e,t)}(c,e);var t,n,s,u=a(c);function c(){return r(this,c),u.apply(this,arguments)}return t=c,(n=[{key:"connect",value:function(){if(!document.querySelector("#fb-root")){var e=document.createElement("div");e.id="fb-root",document.body.appendChild(e)}if(!document.querySelector("#fb-sdk")){var t=document.createElement("script");t.id="fb-sdk",t.src="https://connect.facebook.net/en_US/sdk.js#xfbml=1&version=v9.0",document.body.appendChild(t)}window.FB&&window.FB.XFBML.parse()}}])&&o(t.prototype,n),s&&o(t,s),c}(n(0).b)},78:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t){return(i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function a(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=u(e);if(t){var o=u(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return s(this,n)}}function s(e,t){return!t||"object"!==typeof t&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}n.d(t,"a",(function(){return c}));var c=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&i(e,t)}(c,e);var t,n,s,u=a(c);function c(){return r(this,c),u.apply(this,arguments)}return t=c,(n=[{key:"connect",value:function(){this.element.src="".concat(this.element.dataset.src,"&parent=").concat(window.location.hostname)}}])&&o(t.prototype,n),s&&o(t,s),c}(n(0).b)},84:function(e,t,n){"use strict";n.d(t,"a",(function(){return g}));var r=n(0);function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var i=function(){function e(t,n){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.NAMESPACE="zoogleMedia",window.soundManager){this.url=t.dataset.dest,void 0===this.url&&(this.url=t.href);var r=this;window.soundManager.enabled?r.setup(t,n):document.addEventListener("soundManagerLoaded",(function(){r.setup(t,n)}))}}var t,n,r;return t=e,(n=[{key:"setup",value:function(e,t){var n=this;this.sound=window.soundManager.createSound({id:"playable".concat(window.zoogleMedia.mediaCount+=1),url:n.url,type:"audio/mp3",whileplaying:function(){n.fireEvent("whileplaying")},onplay:function(){window.zoogleMedia.setActive(t),window.zoogleMedia.handleStats(e,"Play"),n.fireEvent("play")},onresume:function(){window.zoogleMedia.setActive(t),n.fireEvent("play")},onpause:function(){n.fireEvent("pause")},onstop:function(){n.fireEvent("pause"),n.sound.setPosition(0)},onfinish:function(){"Previews"!==n.element.dataset.category&&window.zoogleMedia.handleStats(e,"Finish"),n.fireEvent("finish")}}),this.sound.parent=e,this.element=e,e.playable=this.sound,e.player=t}},{key:"fireEvent",value:function(e){var t=new CustomEvent("".concat(e,".").concat(this.NAMESPACE),{bubbles:!0,cancelable:!0,detail:{sound:this.sound,el:this.element,type:"".concat(e,".media")}});this.element.dispatchEvent(t)}}])&&o(t.prototype,n),r&&o(t,r),e}(),a=n(27),s=n(23),u=n(2);function c(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(u){o=!0,i=u}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return l(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return l(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function h(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=m(e);if(t){var o=m(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return y(this,n)}}function y(e,t){return!t||"object"!==typeof t&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var g=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(l,e);var t,n,r,o=h(l);function l(){var e;f(this,l);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=o.call.apply(o,[this].concat(n))).NAMESPACE="zoogleMedia",e.MUSIC_FEATURE_INTERSECTION_CLASS=".track-list li:last-child",e.MUSIC_FEATURE_OBSERVED_CLASS="track-list-observed",e.PLAYLIST_OBSERVER_CONFIG={rootMargin:"100px 0px 0px 0px",threshold:0},e.SESSION_KEY="player",e.SOUND_EVENTS=["whileplaying","play","pause","finish","loadMore"],e.SOUND_EVENT_CALLBACKS=[e.onWhilePlaying,e.onPlay,e.onPause,e.onFinish,e.onLoadMore],e}return t=l,(n=[{key:"connect",value:function(){Object(a.a)(),this.wrapper=this.element.closest(".feature"),this.wrapper?this.featureId=this.wrapper.dataset.featureId:(this.featureId=0,this.wrapper=this.element.closest(".pane"));for(var e=0;e<this.SOUND_EVENTS.length;e+=1)this.element.addEventListener("".concat(this.SOUND_EVENTS[e],".").concat(this.NAMESPACE),this.SOUND_EVENT_CALLBACKS[e]);var t=this.element.querySelectorAll("a.play:not(.initialized)");t.length>0&&(this.loadSounds(t),this.updateTrackDisplay(t[0],!1),this.setupDeferredPlaylist()),this.element.player=this,this.element.pause=this.pause}},{key:"disconnect",value:function(){for(var e=0;e<this.SOUND_EVENTS.length;e+=1)this.element.removeEventListener("".concat(this.SOUND_EVENTS[e],".").concat(this.NAMESPACE),this.SOUND_EVENT_CALLBACKS[e])}},{key:"onWhilePlaying",value:function(e){var t=this.player,n=e.detail.sound,r=Math.ceil(n.position/n.durationEstimate*100);t.updateProgress(n.position,r),t.updatePosition(n)}},{key:"onPlay",value:function(e){var t=this.player,n=e.detail.el;t.updateTrackDisplay(n),t.setUIState("playing")}},{key:"onPause",value:function(e){var t=this.player,n=e.detail.el;t.updateTrackDisplay(n),t.setUIState("paused")}},{key:"onFinish",value:function(e){var t=this.player,n=t.nextTrack(),r=t.currentSound();e.preventDefault(),void 0===n?(t.setUIState("paused"),t.updateProgress(0,0),r&&(r.stop(),r.setPosition(0),t.element.querySelector(".current").classList.remove("current")),n=t.element.querySelector("a.play:first-child"),t.updateTrackDisplay(n,!1),t.element.classList.remove("playing")):window.zoogleMedia.toggle(n)}},{key:"onLoadMore",value:function(){this.player.loadMoreSounds()}},{key:"setUIState",value:function(e){"playing"===e?(this.element.classList.add("loading"),this.element.classList.add("playing"),this.element.classList.remove("paused")):"paused"===e&&(this.element.classList.add("paused"),this.element.classList.remove("playing"))}},{key:"currentTrackLink",value:function(e){var t=this.element.querySelector("a.play.current");return null===t&&(!0===e?t=this.element.querySelector("a.play:first-child"):"true"===this.element.dataset.shuffle&&(t=this.seekTrack())),t}},{key:"seekTrack",value:function(e){var t,n;if("undefined"===typeof e&&(e="prev"),"true"===this.element.dataset.shuffle)t=(n=this.element.querySelectorAll("li:not(.current) a.play"))[Math.floor(Math.random()*n.length)];else{var r,o,i=this.currentTrackLink();i&&(r=i.closest("li")),r&&(o="next"===e?r.nextElementSibling:r.previousElementSibling)&&(t=o.querySelector("a.play")),void 0===t&&"true"===this.element.dataset.loopPlaylist&&(n=this.element.querySelectorAll("a.play"),t="prev"===e?n[n.length-1]:c(n,1)[0])}var a=new CustomEvent("loadMore.".concat(this.NAMESPACE),{bubbles:!0,cancelable:!0,detail:{el:this.element,type:"loadMore.media"}});return this.element.dispatchEvent(a),t}},{key:"previousTrack",value:function(){return this.seekTrack("prev")}},{key:"nextTrack",value:function(){return this.seekTrack("next")}},{key:"currentSound",value:function(){var e=this.element.querySelector("a.play.current");return null===e?null:e.playable}},{key:"seekTo",value:function(e){var t=this.currentSound();if(null!==t){var n=t.duration;t.bytesTotal>t.bytesLoaded&&(n=t.durationEstimate),t.setPosition(e*n)}}},{key:"loadSounds",value:function(e){for(var t=0;t<e.length;t+=1)e[t].classList.add("initialized"),new i(e[t],this.element)}},{key:"updateArtistToPlayer",value:function(e){this.element.querySelectorAll("[data-target=artist]").forEach((function(t){e?(t.classList.remove("empty"),t.innerHTML="<span>".concat(Object(u.b)(e),"</span>")):(t.classList.add("empty"),t.innerHTML="")}))}},{key:"getTrackContainer",value:function(e){return e.closest("li")}},{key:"copyActionsToPlayer",value:function(e,t,n){var r=this.element.querySelector(n);if(r){for(var o=this.getTrackContainer(e).querySelector(t);r.firstChild;)r.removeChild(r.firstChild);o&&r.appendChild(o.cloneNode(!0))}}},{key:"copyBuyButtonToPlayer",value:function(e){this.copyActionsToPlayer(e,".track-action",".player .actions .action"),this.copyActionsToPlayer(e,".track-action",".swmp-header .action");var t=this.element.querySelector(".swmp-header .actions");t&&t.classList.toggle("hide",""===t.innerText.replace(/\s/g,""))}},{key:"copyArtworkToPlayer",value:function(e){var t=this.element,n=t.querySelector("[data-target=album-artwork]");if(n){var r=t.querySelector("[data-target=album-artwork-background]"),o="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",i=!1,a=this.getTrackContainer(e).dataset.albumImageUrl;if(a&&""!==a)i=!0,o=a,n.setAttribute("src",a);else{var s=document.querySelector(".page-photo-background");s&&(o=getComputedStyle(s).backgroundImage.replace(/url\("(.*)"\)/,"$1"))}r.setAttribute("style","background-image: url(".concat(o,")")),t.querySelector(".album-artwork").classList.toggle("placeholder",!i)}}},{key:"updateProgress",value:function(e,t){var n=Object(u.d)(e),r=this.element.querySelectorAll(".swmp-header .progress .cur, .player .progress .cur, .player .time-actions-wrapper .cur, .current .progress .cur"),o=this.element.querySelectorAll(".swmp-header .progress .position, .player .progress .position, .current .progress .position");this.element.classList.remove("loading"),r.forEach((function(e){e.innerHTML=n})),o.forEach((function(e){e.style.width="".concat(Math.min(100,t),"%")}))}},{key:"updateTrackDisplay",value:function(e){var t=this,n=this.element,r=e.dataset;r.title||(r.title=e.innerHTML),null!==n.querySelector(".player")&&(n.querySelectorAll("[data-target=player-title]").forEach((function(e){e.innerHTML=r.title,t.applyMarquee(e)})),n.querySelectorAll(".player .progress .duration, .player .time-actions-wrapper .duration, .swmp-header .progress .duration").forEach((function(e){e.innerHTML=r.duration})),n.querySelectorAll(".progress .cur, .time-actions-wrapper .cur").forEach((function(e){e.innerHTML="0:00"})),this.updateArtistToPlayer(r.artist),this.copyBuyButtonToPlayer(e),this.copyArtworkToPlayer(e))}},{key:"applyMarquee",value:function(e){window.jQuery&&!0===window.jQuery.fx.off||!e.classList.contains("marquee")||Object(s.a)(e)}},{key:"resizeApplyMarquee",value:function(){this.element.querySelectorAll("[data-target=player-title]").forEach((function(e){Object(s.a)(e)}))}},{key:"setupDeferredPlaylist",value:function(){var e=this,t=this.wrapper.querySelector(".track-list").dataset.loadMore;if(!0===t||"true"===t){var n=this.element.querySelectorAll("".concat(this.MUSIC_FEATURE_INTERSECTION_CLASS,":not(.").concat(this.MUSIC_FEATURE_OBSERVED_CLASS,")"));if("undefined"===typeof IntersectionObserver||!0===IntersectionObserver.polyfill)this.loadMoreSounds(!0);else{this.observer=new IntersectionObserver((function(t){return e.onPlaylistIntersection(t)}),this.PLAYLIST_OBSERVER_CONFIG);for(var r=0;r<n.length;r+=1)n[r].classList.add(this.MUSIC_FEATURE_OBSERVED_CLASS),this.observer.observe(n[r])}}}},{key:"onPlaylistIntersection",value:function(e){for(var t=0;t<e.length;t+=1){var n=e[t];n.isIntersecting&&(this.observer.unobserve(n.target),n.target.classList.remove(this.MUSIC_FEATURE_OBSERVED_CLASS),this.loadMoreSounds())}}},{key:"loadMoreSounds",value:function(e){var t=this.wrapper.querySelector(".track-list").dataset.loadMore;if(void 0!==t){var n=this.wrapper.querySelector(".track-list").dataset.offset,r=this.wrapper.querySelector("[data-album-id]").dataset.albumId,o="/go/albums/".concat(r,"/tracks?offset=").concat(n);void 0!==this.featureId&&(o="".concat(o,"&music_feature_id=").concat(this.featureId));var i=this.element.querySelector(".track-list"),a=new XMLHttpRequest;if(!0===t||"true"===t){!0===e&&(o+="&amount=1000");var s=this;a.open("GET",o,!0),a.onload=function(){if(a.status>=200&&a.status<400){var e=a.responseText,t=Object(u.e)(e);i.dataset.offset=t.dataset.offset,i.dataset.loadMore=t.dataset.loadMore;for(var n=t.querySelectorAll("li"),r=0;r<n.length;r+=1)i.appendChild(n[r]);document.dispatchEvent(new CustomEvent("pageLoad")),s.loadSounds(i.querySelectorAll("a.play:not(.initialized)")),s.setupDeferredPlaylist()}},a.send()}}}},{key:"pause",value:function(){var e=this.player,t=e.currentSound();t&&t.pause(),e.setUIState("paused")}},{key:"updatePosition",value:function(e){sessionStorage.setItem(this.SESSION_KEY,this.featureId),sessionStorage.setItem("".concat(this.SESSION_KEY,"_position"),e.position),sessionStorage.setItem("".concat(this.SESSION_KEY,"_url"),e.url)}}])&&d(t.prototype,n),r&&d(t,r),l}(r.b)},9:function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}}});
//# sourceMappingURL=usersite-3569608d25e5ed4c805e.js.map